(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97665,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(22016),a=e.i(70931);function l(){let[e,l]=(0,s.useState)(""),[i,d]=(0,s.useState)(void 0);(0,s.useEffect)(()=>{let t=window.setTimeout(()=>{d(e.trim()||void 0)},300);return()=>window.clearTimeout(t)},[e]);let{data:n,isLoading:c,isFetching:o,error:x}=(0,a.useGetPatientsQuery)({query:i,limit:20}),p=null;if(x){var m;let e=(m=x.data)&&"object"==typeof m&&"string"==typeof m.error?{error:m.error,message:"string"==typeof m.message?m.message:void 0,fieldErrors:m.fieldErrors&&"object"==typeof m.fieldErrors?m.fieldErrors:void 0,traceId:"string"==typeof m.traceId?m.traceId:void 0}:null;p=e?.message??"Unable to load patients."}return(0,t.jsxs)("section",{className:"space-y-4 p-4 md:p-6 2xl:p-8",children:[(0,t.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,t.jsx)("h1",{className:"text-xl font-semibold",children:"Patients"}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("input",{type:"search",placeholder:"Search by name, phone...",className:"w-64 rounded-xl border px-3 py-2 text-sm outline-none focus:ring",value:e,onChange:e=>l(e.target.value)})})]}),c&&(0,t.jsx)("div",{className:"rounded-2xl border bg-white p-4","aria-busy":"true",children:(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Loading patients…"})}),!c&&p&&(0,t.jsx)("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:p}),!c&&!p&&(0,t.jsx)("div",{className:"rounded-2xl border bg-white p-0",children:n&&n.items.length>0?(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{className:"border-b bg-gray-50 text-left text-xs font-medium uppercase tracking-wide text-gray-500",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-2",children:"Name"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Phone"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Gender"}),(0,t.jsx)("th",{className:"px-4 py-2",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:n.items.map(e=>(0,t.jsxs)("tr",{className:"border-b last:border-b-0",children:[(0,t.jsx)("td",{className:"px-4 py-2",children:e.name}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.phone??"—"}),(0,t.jsx)("td",{className:"px-4 py-2",children:e.gender??"—"}),(0,t.jsx)("td",{className:"px-4 py-2",children:(0,t.jsx)(r.default,{href:`/patients/${e.patientId}`,className:"text-xs font-medium text-blue-600 hover:underline",children:"View"})})]},e.patientId))})]}):(0,t.jsx)("p",{className:"p-4 text-sm text-gray-600",children:i?"No patients match your search.":"No patients yet."})}),o&&!c&&(0,t.jsx)("p",{className:"text-xs text-gray-500","aria-live":"polite",children:"Updating…"})]})}e.s(["default",()=>l])}]);