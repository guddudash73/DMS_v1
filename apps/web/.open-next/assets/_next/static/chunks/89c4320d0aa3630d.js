(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";var t=e.i(54943);e.s(["Search",()=>t.default])},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},23621,e=>{"use strict";var t=e.i(43476),a=e.i(91918),r=e.i(25913),n=e.i(52236);let s=(0,r.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:r,asChild:i=!1,...l}){let o=i?a.Slot:"span";return(0,t.jsx)(o,{"data-slot":"badge",className:(0,n.cn)(s({variant:r}),e),...l})}e.s(["Badge",()=>i])},54943,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["default",()=>t])},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},88699,e=>{"use strict";let t=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],88699)},25466,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(48425),n=a.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var s=e.i(52236);function i({className:e,...a}){return(0,t.jsx)(n,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>i],25466)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},23204,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(70317),n=e.i(66691),s=e.i(24911),i=e.i(23621),l=e.i(82879),o=e.i(81140),d=e.i(75830),c=e.i(20783),u=e.i(10772);e.i(74080);var m=Symbol("radix.slottable");function p(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===m}var f=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{var n,s;let i,l,o,d=(s=n=`Primitive.${r}`,(i=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(a.isValidElement(r)){var s;let e,i,l=(s=r,(i=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(i=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),o=function(e,t){let a={...t};for(let r in t){let n=e[r],s=t[r];/^on[A-Z]/.test(r)?n&&s?a[r]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(a[r]=n):"style"===r?a[r]={...n,...s}:"className"===r&&(a[r]=[n,s].filter(Boolean).join(" "))}return{...e,...a}}(n,r.props);return r.type!==a.Fragment&&(o.ref=t?(0,c.composeRefs)(t,l):l),a.cloneElement(r,o)}return a.Children.count(r)>1?a.Children.only(null):null})).displayName=`${s}.SlotClone`,l=i,(o=a.forwardRef((e,r)=>{let{children:n,...s}=e,i=a.Children.toArray(n),o=i.find(p);if(o){let e=o.props.children,n=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(l,{...s,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,t.jsx)(l,{...s,ref:r,children:n})})).displayName=`${n}.Slot`,o),u=a.forwardRef((e,a)=>{let{asChild:n,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?d:r,{...s,ref:a})});return u.displayName=`Primitive.${r}`,{...e,[r]:u}},{}),x=e.i(30207),h=e.i(69340),g=e.i(86318),v="rovingFocusGroup.onEntryFocus",y={bubbles:!1,cancelable:!0},j="RovingFocusGroup",[b,N,w]=(0,d.createCollection)(j),[D,C]=function(e,r=[]){let n=[],s=()=>{let t=n.map(e=>a.createContext(e));return function(r){let n=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return s.scopeName=e,[function(r,s){let i=a.createContext(s),l=n.length;n=[...n,s];let o=r=>{let{scope:n,children:s,...o}=r,d=n?.[e]?.[l]||i,c=a.useMemo(()=>o,Object.values(o));return(0,t.jsx)(d.Provider,{value:c,children:s})};return o.displayName=r+"Provider",[o,function(t,n){let o=n?.[e]?.[l]||i,d=a.useContext(o);if(d)return d;if(void 0!==s)return s;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:a,scopeName:r})=>{let n=a(e)[`__scope${r}`];return{...t,...n}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(s,...r)]}(j,[w]),[E,I]=D(j),S=a.forwardRef((e,a)=>(0,t.jsx)(b.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(b.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(k,{...e,ref:a})})}));S.displayName=j;var k=a.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:m,onEntryFocus:p,preventScrollOnEntryFocus:b=!1,...w}=e,D=a.useRef(null),C=(0,c.useComposedRefs)(r,D),I=(0,g.useDirection)(l),[S,k]=(0,h.useControllableState)({prop:d,defaultProp:u??null,onChange:m,caller:j}),[R,F]=a.useState(!1),L=(0,x.useCallbackRef)(p),A=N(n),T=a.useRef(!1),[P,_]=a.useState(0);return a.useEffect(()=>{let e=D.current;if(e)return e.addEventListener(v,L),()=>e.removeEventListener(v,L)},[L]),(0,t.jsx)(E,{scope:n,orientation:s,dir:I,loop:i,currentTabStopId:S,onItemFocus:a.useCallback(e=>k(e),[k]),onItemShiftTab:a.useCallback(()=>F(!0),[]),onFocusableItemAdd:a.useCallback(()=>_(e=>e+1),[]),onFocusableItemRemove:a.useCallback(()=>_(e=>e-1),[]),children:(0,t.jsx)(f.div,{tabIndex:R||0===P?-1:0,"data-orientation":s,...w,ref:C,style:{outline:"none",...e.style},onMouseDown:(0,o.composeEventHandlers)(e.onMouseDown,()=>{T.current=!0}),onFocus:(0,o.composeEventHandlers)(e.onFocus,e=>{let t=!T.current;if(e.target===e.currentTarget&&t&&!R){let t=new CustomEvent(v,y);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);M([e.find(e=>e.active),e.find(e=>e.id===S),...e].filter(Boolean).map(e=>e.ref.current),b)}}T.current=!1}),onBlur:(0,o.composeEventHandlers)(e.onBlur,()=>F(!1))})})}),R="RovingFocusGroupItem",F=a.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:l,children:d,...c}=e,m=(0,u.useId)(),p=l||m,x=I(R,n),h=x.currentTabStopId===p,g=N(n),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:j}=x;return a.useEffect(()=>{if(s)return v(),()=>y()},[s,v,y]),(0,t.jsx)(b.ItemSlot,{scope:n,id:p,focusable:s,active:i,children:(0,t.jsx)(f.span,{tabIndex:h?0:-1,"data-orientation":x.orientation,...c,ref:r,onMouseDown:(0,o.composeEventHandlers)(e.onMouseDown,e=>{s?x.onItemFocus(p):e.preventDefault()}),onFocus:(0,o.composeEventHandlers)(e.onFocus,()=>x.onItemFocus(p)),onKeyDown:(0,o.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void x.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,a){var r;let n=(r=e.key,"rtl"!==a?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return L[n]}(e,x.orientation,x.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)n.reverse();else if("prev"===t||"next"===t){var a,r;"prev"===t&&n.reverse();let s=n.indexOf(e.currentTarget);n=x.loop?(a=n,r=s+1,a.map((e,t)=>a[(r+t)%a.length])):n.slice(s+1)}setTimeout(()=>M(n))}}),children:"function"==typeof d?d({isCurrentTabStop:h,hasTabStop:null!=j}):d})})});F.displayName=R;var L={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M(e,t=!1){let a=document.activeElement;for(let r of e)if(r===a||(r.focus({preventScroll:t}),document.activeElement!==a))return}var A=e.i(96626),T=Symbol("radix.slottable");function P(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===T}var _=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{var n,s;let i,l,o,d=(s=n=`Primitive.${r}`,(i=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(a.isValidElement(r)){var s;let e,i,l=(s=r,(i=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(i=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),o=function(e,t){let a={...t};for(let r in t){let n=e[r],s=t[r];/^on[A-Z]/.test(r)?n&&s?a[r]=(...e)=>{let t=s(...e);return n(...e),t}:n&&(a[r]=n):"style"===r?a[r]={...n,...s}:"className"===r&&(a[r]=[n,s].filter(Boolean).join(" "))}return{...e,...a}}(n,r.props);return r.type!==a.Fragment&&(o.ref=t?(0,c.composeRefs)(t,l):l),a.cloneElement(r,o)}return a.Children.count(r)>1?a.Children.only(null):null})).displayName=`${s}.SlotClone`,l=i,(o=a.forwardRef((e,r)=>{let{children:n,...s}=e,i=a.Children.toArray(n),o=i.find(P);if(o){let e=o.props.children,n=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(l,{...s,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,t.jsx)(l,{...s,ref:r,children:n})})).displayName=`${n}.Slot`,o),u=a.forwardRef((e,a)=>{let{asChild:n,...s}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(n?d:r,{...s,ref:a})});return u.displayName=`Primitive.${r}`,{...e,[r]:u}},{}),B="Tabs",[V,$]=function(e,r=[]){let n=[],s=()=>{let t=n.map(e=>a.createContext(e));return function(r){let n=r?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return s.scopeName=e,[function(r,s){let i=a.createContext(s),l=n.length;n=[...n,s];let o=r=>{let{scope:n,children:s,...o}=r,d=n?.[e]?.[l]||i,c=a.useMemo(()=>o,Object.values(o));return(0,t.jsx)(d.Provider,{value:c,children:s})};return o.displayName=r+"Provider",[o,function(t,n){let o=n?.[e]?.[l]||i,d=a.useContext(o);if(d)return d;if(void 0!==s)return s;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:a,scopeName:r})=>{let n=a(e)[`__scope${r}`];return{...t,...n}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(s,...r)]}(B,[C]),O=C(),[q,H]=V(B),U=a.forwardRef((e,a)=>{let{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:d="automatic",...c}=e,m=(0,g.useDirection)(o),[p,f]=(0,h.useControllableState)({prop:n,onChange:s,defaultProp:i??"",caller:B});return(0,t.jsx)(q,{scope:r,baseId:(0,u.useId)(),value:p,onValueChange:f,orientation:l,dir:m,activationMode:d,children:(0,t.jsx)(_.div,{dir:m,"data-orientation":l,...c,ref:a})})});U.displayName=B;var K="TabsList",G=a.forwardRef((e,a)=>{let{__scopeTabs:r,loop:n=!0,...s}=e,i=H(K,r),l=O(r);return(0,t.jsx)(S,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:(0,t.jsx)(_.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:a})})});G.displayName=K;var z="TabsTrigger",W=a.forwardRef((e,a)=>{let{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,l=H(z,r),d=O(r),c=J(l.baseId,n),u=Y(l.baseId,n),m=n===l.value;return(0,t.jsx)(F,{asChild:!0,...d,focusable:!s,active:m,children:(0,t.jsx)(_.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":u,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:a,onMouseDown:(0,o.composeEventHandlers)(e.onMouseDown,e=>{s||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(n)}),onKeyDown:(0,o.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(n)}),onFocus:(0,o.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==l.activationMode;m||s||!e||l.onValueChange(n)})})})});W.displayName=z;var Q="TabsContent",Z=a.forwardRef((e,r)=>{let{__scopeTabs:n,value:s,forceMount:i,children:l,...o}=e,d=H(Q,n),c=J(d.baseId,s),u=Y(d.baseId,s),m=s===d.value,p=a.useRef(m);return a.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(A.Presence,{present:i||m,children:({present:a})=>(0,t.jsx)(_.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!a,id:u,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:p.current?"0s":void 0},children:a&&l})})});function J(e,t){return`${e}-trigger-${t}`}function Y(e,t){return`${e}-content-${t}`}Z.displayName=Q;var X=e.i(52236);function ee({className:e,...a}){return(0,t.jsx)(U,{"data-slot":"tabs",className:(0,X.cn)("flex flex-col gap-2",e),...a})}function et({className:e,...a}){return(0,t.jsx)(G,{"data-slot":"tabs-list",className:(0,X.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...a})}function ea({className:e,...a}){return(0,t.jsx)(W,{"data-slot":"tabs-trigger",className:(0,X.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a})}function er({className:e,...a}){return(0,t.jsx)(Z,{"data-slot":"tabs-content",className:(0,X.cn)("flex-1 outline-none",e),...a})}var en=e.i(25466),es=e.i(88699),ei=e.i(27612),el=e.i(7233),eo=e.i(55436),ed=e.i(95468),ec=e.i(31278),eu=e.i(70931);let em=["QD","BID","TID","QID","HS","PRN"],ep=["TABLET","CAPSULE","SYRUP","INJECTION","OINTMENT","GEL","MOUTHWASH","OTHER"],ef=()=>({displayName:"",defaultDose:"",defaultFrequency:"",defaultDuration:void 0,form:""}),ex=e=>{let t=e.trim();if(!t)return;let a=Number(t);return Number.isFinite(a)?a:void 0},eh=e=>"string"==typeof e&&ep.includes(e)?e:"";function eg({value:e,onChange:a,children:r,placeholder:n}){return(0,t.jsxs)("select",{className:"h-10 w-full rounded-xl border border-input bg-background px-3 text-sm outline-none ring-offset-background focus-visible:ring-2 focus-visible:ring-ring/50",value:e,onChange:e=>a(e.target.value),children:[n?(0,t.jsx)("option",{value:"",children:n}):null,r]})}function ev(e,t){if(e&&"object"==typeof e)for(let a of t){let t=e[a];if("string"==typeof t&&t.trim())return t}}function ey(){let[e,r]=a.useState("PENDING"),[i,o]=a.useState(""),[d,c]=a.useState("");a.useEffect(()=>{let e=window.setTimeout(()=>c(i.trim()),300);return()=>window.clearTimeout(e)},[i]);let[u,m]=a.useState(null),[p,f]=a.useState([]);a.useEffect(()=>{m(null),f([])},[e,d]);let x=(0,eu.useAdminListMedicinesQuery)({status:e,query:d||void 0,limit:10,cursor:u||void 0},{refetchOnMountOrArgChange:!0}),h=(0,eu.useGetDoctorsQuery)(),g=a.useMemo(()=>{let e=new Map;for(let t of h.data??[]){let a=ev(t,["userId","doctorId","id"]),r=ev(t,["displayName","fullName","name","email"]);a&&r&&e.set(a,r)}return e},[h.data]),v=e=>"ADMIN_IMPORT"===e.source?"Admin":g.get(e.createdByUserId)??e.createdByUserId,[y,j]=(0,eu.useAdminCreateMedicineMutation)(),[b,N]=(0,eu.useAdminUpdateMedicineMutation)(),[w,D]=(0,eu.useAdminDeleteMedicineMutation)(),[C,E]=(0,eu.useAdminVerifyMedicineMutation)(),[I,S]=a.useState(!1),[k,R]=a.useState(!1),[F,L]=a.useState(()=>ef()),[M,A]=a.useState(()=>ef()),[T,P]=a.useState(null),_=x.data?.items??[],B=x.data?.total??0,V=x.data?.nextCursor??null,$=p.length>0,O=!!V,q=e=>{let t;P(e),A({displayName:e.displayName??"",defaultDose:e.defaultDose??"",defaultFrequency:"string"==typeof(t=e.defaultFrequency)&&em.includes(t)?t:"",defaultDuration:e.defaultDuration,form:eh(e.form)}),R(!0)},H=async()=>{let e=F.displayName.trim();e&&(await y({displayName:e,defaultDose:F.defaultDose?.trim()||void 0,defaultFrequency:F.defaultFrequency?.trim()||void 0,defaultDuration:F.defaultDuration,form:F.form||void 0}).unwrap(),S(!1),L(ef()))},U=async()=>{if(!T)return;let e=M.displayName.trim();e&&(await b({id:T.id,patch:{displayName:e,defaultDose:M.defaultDose?.trim()||void 0,defaultFrequency:M.defaultFrequency?.trim()||void 0,defaultDuration:M.defaultDuration,form:M.form||void 0}}).unwrap(),R(!1),P(null))},K=async e=>{window.confirm(`Delete medicine "${e.displayName}"? This cannot be undone.`)&&await w({id:e.id}).unwrap()},G=async e=>{await C({id:e.id}).unwrap()},z=x.isLoading||j.isLoading||N.isLoading||D.isLoading||E.isLoading;return(0,t.jsxs)("div",{className:"p-4 2xl:p-12",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-start justify-between gap-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Search, edit defaults, verify inline-added medicines, and delete duplicates."})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"relative w-80",children:[(0,t.jsx)(eo.Search,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,t.jsx)(s.Input,{className:"h-9 rounded-xl pl-9 text-sm",placeholder:"Search medicines by name…",value:i,onChange:e=>o(e.target.value)})]}),(0,t.jsxs)(n.Button,{className:"h-9 rounded-xl",onClick:()=>S(!0),children:[(0,t.jsx)(el.Plus,{className:"mr-2 h-4 w-4"}),"Add Medicine"]})]})]}),(0,t.jsxs)(ee,{value:e,onValueChange:e=>r(e),children:[(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between gap-3",children:[(0,t.jsxs)(et,{className:"rounded-2xl",children:[(0,t.jsx)(ea,{value:"PENDING",className:"rounded-xl",children:"Pending verification"}),(0,t.jsx)(ea,{value:"VERIFIED",className:"rounded-xl",children:"Verified"})]}),(0,t.jsxs)("div",{className:"text-[11px] text-gray-500",children:["Filtered by: ",(0,t.jsx)("span",{className:"font-medium text-gray-700",children:d||"All"})," · Total: ",(0,t.jsx)("span",{className:"font-medium text-gray-700",children:B})]})]}),(0,t.jsx)(er,{value:"PENDING",children:(0,t.jsx)(ej,{items:_,tab:e,busy:z,onEdit:q,onDelete:K,onVerify:G,listLoading:x.isLoading,createdByLabel:v})}),(0,t.jsx)(er,{value:"VERIFIED",children:(0,t.jsx)(ej,{items:_,tab:e,busy:z,onEdit:q,onDelete:K,onVerify:G,listLoading:x.isLoading,createdByLabel:v})})]}),(0,t.jsxs)("div",{className:"mt-3 flex items-center justify-end gap-2",children:[(0,t.jsx)(n.Button,{variant:"secondary",className:"h-9 rounded-xl",disabled:!$,onClick:()=>{f(e=>{let t=[...e];return m(t.pop()??null),t})},children:"Prev"}),(0,t.jsx)(n.Button,{variant:"secondary",className:"h-9 rounded-xl",disabled:!O,onClick:()=>{V&&(f(e=>[...e,u??""]),m(V))},children:"Next"})]}),(0,t.jsx)(l.Dialog,{open:I,onOpenChange:S,children:(0,t.jsxs)(l.DialogContent,{className:"max-w-xl rounded-2xl",children:[(0,t.jsxs)(l.DialogHeader,{children:[(0,t.jsx)(l.DialogTitle,{children:"Add medicine"}),(0,t.jsx)(l.DialogDescription,{children:"Create a new medicine preset for the catalog."})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-2",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(en.Label,{className:"text-xs",children:"Display name"}),(0,t.jsx)(s.Input,{className:"rounded-xl",placeholder:"e.g., Amoxicillin 500mg",value:F.displayName,onChange:e=>L(t=>({...t,displayName:e.target.value}))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(en.Label,{className:"text-xs",children:"Dose"}),(0,t.jsx)(s.Input,{className:"rounded-xl",placeholder:"e.g., 1 tab",value:F.defaultDose??"",onChange:e=>L(t=>({...t,defaultDose:e.target.value}))})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(en.Label,{className:"text-xs",children:"Frequency"}),(0,t.jsx)(eg,{value:F.defaultFrequency??"",onChange:e=>L(t=>({...t,defaultFrequency:e})),placeholder:"Select…",children:em.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(en.Label,{className:"text-xs",children:"Duration (days)"}),(0,t.jsx)(s.Input,{className:"rounded-xl",inputMode:"numeric",placeholder:"e.g., 5",value:"number"==typeof F.defaultDuration?String(F.defaultDuration):"",onChange:e=>L(t=>({...t,defaultDuration:ex(e.target.value)}))})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(en.Label,{className:"text-xs",children:"Form (optional)"}),(0,t.jsx)(eg,{value:F.form??"",onChange:e=>L(t=>({...t,form:eh(e)})),placeholder:"Select…",children:ep.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]}),(0,t.jsxs)(l.DialogFooter,{className:"gap-2",children:[(0,t.jsx)(n.Button,{variant:"secondary",className:"rounded-xl",onClick:()=>S(!1),children:"Cancel"}),(0,t.jsxs)(n.Button,{className:"rounded-xl",onClick:H,disabled:j.isLoading||!F.displayName.trim(),children:[j.isLoading?(0,t.jsx)(ec.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Add"]})]})]})}),(0,t.jsx)(l.Dialog,{open:k,onOpenChange:R,children:(0,t.jsxs)(l.DialogContent,{className:"max-w-xl rounded-2xl",children:[(0,t.jsxs)(l.DialogHeader,{children:[(0,t.jsx)(l.DialogTitle,{children:"Edit medicine"}),(0,t.jsx)(l.DialogDescription,{children:"Update name and default prescription values."})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-2",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(en.Label,{className:"text-xs",children:"Display name"}),(0,t.jsx)(s.Input,{className:"rounded-xl",value:M.displayName,onChange:e=>A(t=>({...t,displayName:e.target.value}))})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(en.Label,{className:"text-xs",children:"Dose"}),(0,t.jsx)(s.Input,{className:"rounded-xl",value:M.defaultDose??"",onChange:e=>A(t=>({...t,defaultDose:e.target.value}))})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(en.Label,{className:"text-xs",children:"Frequency"}),(0,t.jsx)(eg,{value:M.defaultFrequency??"",onChange:e=>A(t=>({...t,defaultFrequency:e})),placeholder:"Select…",children:em.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(en.Label,{className:"text-xs",children:"Duration (days)"}),(0,t.jsx)(s.Input,{className:"rounded-xl",inputMode:"numeric",value:"number"==typeof M.defaultDuration?String(M.defaultDuration):"",onChange:e=>A(t=>({...t,defaultDuration:ex(e.target.value)}))})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(en.Label,{className:"text-xs",children:"Form (optional)"}),(0,t.jsx)(eg,{value:M.form??"",onChange:e=>A(t=>({...t,form:eh(e)})),placeholder:"Select…",children:ep.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]}),(0,t.jsxs)(l.DialogFooter,{className:"gap-2",children:[(0,t.jsx)(n.Button,{variant:"secondary",className:"rounded-xl",onClick:()=>{R(!1),P(null)},children:"Cancel"}),(0,t.jsxs)(n.Button,{className:"rounded-xl",onClick:U,disabled:N.isLoading||!M.displayName.trim(),children:[N.isLoading?(0,t.jsx)(ec.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Save changes"]})]})]})})]})}function ej({items:e,tab:a,busy:s,listLoading:l,onEdit:o,onDelete:d,onVerify:c,createdByLabel:u}){return(0,t.jsxs)(r.Card,{className:"rounded-2xl border bg-white p-0 shadow-none",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b px-5 py-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:"Medicine Catalog"}),(0,t.jsxs)("div",{className:"text-[11px] text-gray-500",children:["Showing:"," ",(0,t.jsx)("span",{className:"font-medium text-gray-700",children:"VERIFIED"===a?"Verified":"Pending"})]})]}),l&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,t.jsx)(ec.Loader2,{className:"h-4 w-4 animate-spin"}),"Loading…"]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,t.jsx)("thead",{className:"bg-gray-50 text-[11px] font-semibold text-gray-600",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-5 py-3",children:"Display Name"}),(0,t.jsx)("th",{className:"px-5 py-3",children:"Defaults"}),(0,t.jsx)("th",{className:"px-5 py-3",children:"Source"}),(0,t.jsx)("th",{className:"px-5 py-3",children:"Created By"}),(0,t.jsx)("th",{className:"px-5 py-3",children:"Status"}),(0,t.jsx)("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),(0,t.jsxs)("tbody",{className:"divide-y",children:[!l&&0===e.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{className:"px-5 py-6 text-sm text-gray-500",colSpan:6,children:"No medicines found."})}),e.map(e=>{let a,r=(a=e.defaultDose?.trim()?e.defaultDose:"—",{dose:a,freq:e.defaultFrequency?.trim()?e.defaultFrequency:"—",dur:"number"==typeof e.defaultDuration?`${e.defaultDuration}d`:"—"});return(0,t.jsxs)("tr",{className:"align-top",children:[(0,t.jsxs)("td",{className:"px-5 py-4",children:[(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:e.displayName}),(0,t.jsxs)("div",{className:"mt-0.5 text-[11px] text-gray-500",children:["ID: ",e.id]})]}),(0,t.jsxs)("td",{className:"px-5 py-4 text-[11px] text-gray-700",children:[(0,t.jsxs)("div",{children:["Dose: ",r.dose]}),(0,t.jsxs)("div",{children:["Freq: ",r.freq]}),(0,t.jsxs)("div",{children:["Dur: ",r.dur]})]}),(0,t.jsx)("td",{className:"px-5 py-4 text-[11px] text-gray-700",children:e.source}),(0,t.jsx)("td",{className:"px-5 py-4 text-[11px] text-gray-700",children:(0,t.jsx)("div",{className:"font-medium text-gray-900",children:u(e)})}),(0,t.jsx)("td",{className:"px-5 py-4",children:(0,t.jsx)(i.Badge,{className:"rounded-full text-[10px]",variant:"secondary",children:e.verified?"Verified":"Unverified"})}),(0,t.jsx)("td",{className:"px-5 py-4",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[!e.verified&&(0,t.jsxs)(n.Button,{variant:"secondary",className:"h-9 rounded-xl",onClick:()=>c(e),disabled:s,children:[(0,t.jsx)(ed.CheckCircle2,{className:"mr-2 h-4 w-4"}),"Verify"]}),(0,t.jsxs)(n.Button,{variant:"secondary",className:"h-9 rounded-xl",onClick:()=>o(e),disabled:s,children:[(0,t.jsx)(es.Pencil,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,t.jsxs)(n.Button,{variant:"destructive",className:"h-9 rounded-xl",onClick:()=>d(e),disabled:s,children:[(0,t.jsx)(ei.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})})]},e.id)})]})]})}),(0,t.jsx)("div",{className:"px-5 py-3 text-[11px] text-gray-500",children:"Tip: verify pending medicines so doctors see cleaner, trusted suggestions."})]})}e.s(["default",()=>ey],23204)}]);