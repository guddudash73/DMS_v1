(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63756,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(81140),s=e.i(20783),i=e.i(69340),a=e.i(99682),l=e.i(35804);e.i(74080);var o=Symbol("radix.slottable");function c(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}var d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{var i,a;let l,o,d,u=(a=i=`Primitive.${n}`,(l=r.forwardRef((e,t)=>{let{children:n,...i}=e;if(r.isValidElement(n)){var a;let e,l,o=(a=n,(l=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(l=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),c=function(e,t){let r={...t};for(let n in t){let s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...i}:"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(i,n.props);return n.type!==r.Fragment&&(c.ref=t?(0,s.composeRefs)(t,o):o),r.cloneElement(n,c)}return r.Children.count(n)>1?r.Children.only(null):null})).displayName=`${a}.SlotClone`,o=l,(d=r.forwardRef((e,n)=>{let{children:s,...i}=e,a=r.Children.toArray(s),l=a.find(c);if(l){let e=l.props.children,s=a.map(t=>t!==l?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(o,{...i,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,t.jsx)(o,{...i,ref:n,children:s})})).displayName=`${i}.Slot`,d),p=r.forwardRef((e,r)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?u:n,{...i,ref:r})});return p.displayName=`Primitive.${n}`,{...e,[n]:p}},{}),u="Switch",[p,f]=function(e,n=[]){let s=[],i=()=>{let t=s.map(e=>r.createContext(e));return function(n){let s=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:s}}),[n,s])}};return i.scopeName=e,[function(n,i){let a=r.createContext(i),l=s.length;s=[...s,i];let o=n=>{let{scope:s,children:i,...o}=n,c=s?.[e]?.[l]||a,d=r.useMemo(()=>o,Object.values(o));return(0,t.jsx)(c.Provider,{value:d,children:i})};return o.displayName=n+"Provider",[o,function(t,s){let o=s?.[e]?.[l]||a,c=r.useContext(o);if(c)return c;if(void 0!==i)return i;throw Error(`\`${t}\` must be used within \`${n}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=n.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}(i,...n)]}(u),[m,h]=p(u),x=r.forwardRef((e,a)=>{let{__scopeSwitch:l,name:o,checked:c,defaultChecked:p,required:f,disabled:h,value:x="on",onCheckedChange:b,form:g,...j}=e,[w,N]=r.useState(null),k=(0,s.useComposedRefs)(a,e=>N(e)),C=r.useRef(!1),S=!w||g||!!w.closest("form"),[P,R]=(0,i.useControllableState)({prop:c,defaultProp:p??!1,onChange:b,caller:u});return(0,t.jsxs)(m,{scope:l,checked:P,disabled:h,children:[(0,t.jsx)(d.button,{type:"button",role:"switch","aria-checked":P,"aria-required":f,"data-state":y(P),"data-disabled":h?"":void 0,disabled:h,value:x,...j,ref:k,onClick:(0,n.composeEventHandlers)(e.onClick,e=>{R(e=>!e),S&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),S&&(0,t.jsx)(v,{control:w,bubbles:!C.current,name:o,value:x,checked:P,required:f,disabled:h,form:g,style:{transform:"translateX(-100%)"}})]})});x.displayName=u;var b="SwitchThumb",g=r.forwardRef((e,r)=>{let{__scopeSwitch:n,...s}=e,i=h(b,n);return(0,t.jsx)(d.span,{"data-state":y(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:r})});g.displayName=b;var v=r.forwardRef(({__scopeSwitch:e,control:n,checked:i,bubbles:o=!0,...c},d)=>{let u=r.useRef(null),p=(0,s.useComposedRefs)(u,d),f=(0,a.usePrevious)(i),m=(0,l.useSize)(n);return r.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(f!==i&&t){let r=new Event("click",{bubbles:o});t.call(e,i),e.dispatchEvent(r)}},[f,i,o]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...c,tabIndex:-1,ref:p,style:{...c.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function y(e){return e?"checked":"unchecked"}v.displayName="SwitchBubbleInput";var j=e.i(52236);function w({className:e,...r}){return(0,t.jsx)(x,{"data-slot":"switch",className:(0,j.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(g,{"data-slot":"switch-thumb",className:(0,j.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}e.s(["Switch",()=>w],63756)},62622,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(66691),s=e.i(63756),i=e.i(70317),a=e.i(94608),l=e.i(63388),o=e.i(70319);function c(){let[e,c]=r.useState(!0),[d,u]=r.useState(""),[p,f]=r.useState([]),[m,h]=r.useState(!1);r.useEffect(()=>{let e=(0,a.loadPrintSettings)();c(e.autoPrintToken??!0),u(e.printerName??"")},[]);let x=async()=>{try{h(!0);let e=await (0,l.listPrinters)();f(e),o.toast.success("Printers loaded from QZ Tray.")}catch(e){console.error(e),o.toast.error("Unable to load printers. Is QZ Tray installed & running?")}finally{h(!1)}};return(0,t.jsx)("section",{className:"h-full px-3 py-4 md:px-6 md:py-6 2xl:px-10 2xl:py-10",children:(0,t.jsxs)("div",{className:"mx-auto flex w-full max-w-300 flex-col gap-6 2xl:gap-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Settings"}),(0,t.jsx)("div",{className:"mt-1 text-xs text-gray-500",children:"Configure printing and token behavior."})]}),(0,t.jsx)(i.Card,{className:"rounded-2xl border bg-white p-6 shadow-sm",children:(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Auto-print token on Visit creation"})}),(0,t.jsx)(s.Switch,{checked:e,onCheckedChange:c,className:"cursor-pointer"})]}),(0,t.jsx)("div",{className:"h-px w-full bg-gray-100"}),(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:"Receipt printer"}),(0,t.jsx)("div",{className:"mt-1 text-xs text-gray-500",children:"Printer must be visible to QZ Tray (USB or network)."})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(n.Button,{type:"button",variant:"outline",onClick:x,disabled:m,className:"cursor-pointer",children:m?"Loading…":"Detect printers"}),(0,t.jsx)(n.Button,{type:"button",onClick:()=>{(0,a.savePrintSettings)({autoPrintToken:e,printerName:d||void 0}),o.toast.success("Print settings saved.")},disabled:m,className:"cursor-pointer",children:"Save"})]}),(0,t.jsxs)("select",{className:"h-10 w-full rounded-xl border bg-white px-3 text-sm cursor-pointer",value:d,onChange:e=>u(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select printer…"}),p.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]})]})})]})})}e.s(["default",()=>c])}]);