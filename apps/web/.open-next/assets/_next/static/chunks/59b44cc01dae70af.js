(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15580,e=>{"use strict";var t=e.i(43476),i=e.i(18566),a=e.i(66691),s=e.i(70317),r=e.i(71645),l=e.i(74080),n=e.i(57688);function d({patientName:e,patientPhone:i,patientAge:a,patientSex:s,sdId:r,opdNo:l,visitDateLabel:d}){let x,c,o=(x="number"==typeof a?Number.isFinite(a)&&a>0?String(a):"":(a??"").toString().trim(),c=(s??"").toString().trim().toUpperCase(),x||c?x&&c?`${x}/${c}`:x||c||"—":"—");return(0,t.jsx)("div",{className:"rx-a4 text-black",children:(0,t.jsxs)("div",{className:"flex h-full flex-col",children:[(0,t.jsx)("div",{className:"rx-print-header shrink-0 px-10",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsx)("div",{className:"relative h-20 w-20",children:(0,t.jsx)(n.default,{src:"/rx-logo-r.png",alt:"Rx Logo",fill:!0,className:"object-contain",priority:!0,unoptimized:!0})}),(0,t.jsxs)("div",{className:"mt-2 flex w-full flex-col items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"text-[12px] font-semibold tracking-[0.25em] text-emerald-600",children:"CONTACT"}),(0,t.jsx)("div",{className:"mt-1 text-[14px] font-semibold text-gray-900",children:"9938942846"}),(0,t.jsx)("div",{className:"mt-1 max-w-[120mm] text-[9px] font-medium leading-4 text-gray-800",children:"A-33, STALWART COMPLEX, UNIT - IV, BHUBANESWAR"}),(0,t.jsx)("div",{className:"max-w-[120mm] text-[9px] font-medium leading-4 text-red-400 uppercase",children:"Clinic hours: 10 : 00 AM - 01 : 30 PM & 06 : 00 PM - 08:00 PM, Sunday Closed"})]}),(0,t.jsx)("div",{className:"relative h-18 w-42",children:(0,t.jsx)(n.default,{src:"/dashboard-logo.png",alt:"Sarangi Dentistry",fill:!0,className:"object-contain",priority:!0,unoptimized:!0})})]})}),(0,t.jsx)("div",{className:"rx-print-sep-top mt-2 h-px w-full bg-emerald-600/60"}),(0,t.jsx)("div",{className:"rx-print-doctor shrink-0 px-4 pt-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"text-[12px] font-bold text-gray-900",children:"Dr. Soumendra Sarangi"}),(0,t.jsx)("div",{className:"mt-0.5 text-[11px] font-light text-gray-700",children:"B.D.S. Regd. - 68"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end text-right",children:[(0,t.jsx)("div",{className:"text-[12px] font-bold text-gray-900",children:"Dr. Vaishnovee Sarangi"}),(0,t.jsx)("div",{className:"mt-0.5 text-[11px] font-light text-gray-700",children:"B.D.S. Redg. - 3057"})]})]})}),(0,t.jsx)("div",{className:"rx-print-patient shrink-0 px-4 pt-2",children:(0,t.jsxs)("div",{className:"mt-1 flex w-full justify-between gap-6",children:[(0,t.jsxs)("div",{className:"space-y-1 text-[11px] text-gray-800",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-28 text-gray-600",children:"Patient Name"}),(0,t.jsx)("div",{className:"text-gray-600",children:":"}),(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:e??"—"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-28 text-gray-600",children:"Contact No."}),(0,t.jsx)("div",{className:"text-gray-600",children:":"}),(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:i??"—"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-28 text-gray-600",children:"Age/Sex"}),(0,t.jsx)("div",{className:"text-gray-600",children:":"}),(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:o})]})]}),(0,t.jsxs)("div",{className:"space-y-1 text-[11px] text-gray-800",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-28 text-gray-600",children:"Regd. Date"}),(0,t.jsx)("div",{className:"text-gray-600",children:":"}),(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:d?.replace("Visit:","").trim()||"—"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-28 text-gray-600",children:"SD. ID"}),(0,t.jsx)("div",{className:"text-gray-600",children:":"}),(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:r??"—"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-28 text-gray-600",children:"OPD. No"}),(0,t.jsx)("div",{className:"text-gray-600",children:":"}),(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:l??"—"})]})]})]})}),(0,t.jsx)("div",{className:"rx-print-sep-mid mt-3 h-px w-full bg-gray-900/30"}),(0,t.jsx)("div",{className:"min-h-0 flex-1 px-4 pt-4",children:(0,t.jsx)("div",{className:"h-full w-full rounded-2xl border-gray-200 bg-white"})})]})})}function x(e){let[i,a]=r.useState(!1);return(r.useEffect(()=>a(!0),[]),i)?(0,l.createPortal)((0,t.jsxs)("div",{className:"rx-blank-print-root",children:[(0,t.jsx)("style",{children:`
        .rx-blank-print-root { display: none; }

        @media print {
          body.print-rx-blank > *:not(.rx-blank-print-root) { display: none !important; }
          body.print-rx-blank .rx-blank-print-root { display: block !important; }

          @page { size: A4; margin: 0; }

          html, body {
            margin: 0 !important;
            padding: 0 !important;
            background: #fff !important;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }

          .rx-a4 {
            width: 210mm;
            height: 297mm;
            margin: 0 auto;
            padding: 8mm;
            box-sizing: border-box;
            background: white;
          }
        }
      `}),(0,t.jsx)(d,{...e})]}),document.body):null}function c(e){return(0,t.jsx)("div",{className:"w-full overflow-x-auto",children:(0,t.jsx)("div",{className:"mx-auto w-[210mm] max-w-full rounded-2xl border bg-white p-4",children:(0,t.jsx)(d,{...e})})})}var o=e.i(70931);function m(e){return"object"==typeof e&&null!==e}function p(e){return"string"==typeof e&&e.trim()?e:void 0}function u(){var e,r,l;let n,d,u,g,h,f=(0,i.useParams)(),N=(0,i.useRouter)(),v=String(f?.visitId??""),j=(0,o.useGetVisitByIdQuery)(v,{skip:!v}).data,b=m(j)?j:{},y=p(b.patientId),w=(0,o.useGetPatientByIdQuery)(y??"",{skip:!y}),k=w.data?.name,S=w.data?.phone,D=m(w.data)?w.data:{},A=p(D.sdId)??p(b.sdId)??void 0,P=p(b.opdNo)??p(b.opdId)??p(b.opdNumber)??void 0,F=D.dob??D.dateOfBirth??D.birthDate??D.dobIso??null,I=D.sex??D.gender??D.patientSex??null,T=function(e){if(!e)return null;if("number"==typeof e&&Number.isFinite(e)){let t=new Date(e);return Number.isFinite(t.getTime())?t:null}if("string"==typeof e){let t=e.trim();if(!t)return null;let i=/^(\d{4})-(\d{2})-(\d{2})$/.exec(t);if(i){let e=new Date(Number(i[1]),Number(i[2])-1,Number(i[3]));return Number.isFinite(e.getTime())?e:null}let a=new Date(t);return Number.isFinite(a.getTime())?a:null}return e instanceof Date&&Number.isFinite(e.getTime())?e:null}(F),B=("number"==typeof(e=b.createdAt)&&Number.isFinite(e)?e:void 0)??Date.now(),C=T?(n=(r=new Date(B)).getFullYear()-T.getFullYear(),((d=r.getMonth()-T.getMonth())<0||0===d&&r.getDate()<T.getDate())&&(n-=1),n<0?0:n):void 0,M=function(e){if(!e)return;let t=String(e).trim().toUpperCase();return"M"===t||"MALE"===t?"M":"F"===t||"FEMALE"===t?"F":"O"===t||"OTHER"===t?"O":"U"===t||"UNKNOWN"===t?"U":"M"===t||"F"===t||"O"===t||"U"===t?t:void 0}(I),L=B?`Visit: ${u=(l=new Date(B)).getFullYear(),g=String(l.getMonth()+1).padStart(2,"0"),h=String(l.getDate()).padStart(2,"0"),`${u}-${g}-${h}`}`:void 0;return(0,t.jsxs)("section",{className:"p-4 2xl:p-8",children:[(0,t.jsxs)("div",{className:"mb-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:"Prescription Print Preview (Blank)"}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Visit ID: ",v]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[(0,t.jsx)(a.Button,{type:"button",variant:"outline",className:"rounded-xl",onClick:()=>N.back(),children:"Back"}),(0,t.jsx)(a.Button,{variant:"default",className:"rounded-xl bg-black text-white hover:bg-black/90",onClick:()=>{let e=()=>{document.body.classList.remove("print-rx-blank"),window.removeEventListener("afterprint",e)};window.addEventListener("afterprint",e),document.body.classList.add("print-rx-blank"),requestAnimationFrame(()=>{requestAnimationFrame(()=>window.print())})},children:"Print"})]})]}),(0,t.jsxs)(s.Card,{className:"rounded-2xl border bg-white p-4",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:"Preview"}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(c,{patientName:k,patientPhone:S,patientAge:C,patientSex:M,sdId:A,opdNo:P,visitDateLabel:L})})]}),(0,t.jsx)(x,{patientName:k,patientPhone:S,patientAge:C,patientSex:M,sdId:A,opdNo:P,visitDateLabel:L})]})}e.s(["default",()=>u],15580)}]);