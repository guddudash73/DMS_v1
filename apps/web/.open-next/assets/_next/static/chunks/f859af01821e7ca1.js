(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,e=>{"use strict";var t=e.i(54943);e.s(["Search",()=>t.default])},88699,e=>{"use strict";let t=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],88699)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},23621,e=>{"use strict";var t=e.i(43476),a=e.i(91918),s=e.i(25913),r=e.i(52236);let l=(0,s.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:s,asChild:i=!1,...n}){let c=i?a.Slot:"span";return(0,t.jsx)(c,{"data-slot":"badge",className:(0,r.cn)(l({variant:s}),e),...n})}e.s(["Badge",()=>i])},54943,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["default",()=>t])},25466,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(48425),r=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var l=e.i(52236);function i({className:e,...a}){return(0,t.jsx)(r,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>i],25466)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},63756,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(81140),r=e.i(20783),l=e.i(69340),i=e.i(99682),n=e.i(35804);e.i(74080);var c=Symbol("radix.slottable");function d(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===c}var o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{var l,i;let n,c,o,u=(i=l=`Primitive.${s}`,(n=a.forwardRef((e,t)=>{let{children:s,...l}=e;if(a.isValidElement(s)){var i;let e,n,c=(i=s,(n=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(n=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,t){let a={...t};for(let s in t){let r=e[s],l=t[s];/^on[A-Z]/.test(s)?r&&l?a[s]=(...e)=>{let t=l(...e);return r(...e),t}:r&&(a[s]=r):"style"===s?a[s]={...r,...l}:"className"===s&&(a[s]=[r,l].filter(Boolean).join(" "))}return{...e,...a}}(l,s.props);return s.type!==a.Fragment&&(d.ref=t?(0,r.composeRefs)(t,c):c),a.cloneElement(s,d)}return a.Children.count(s)>1?a.Children.only(null):null})).displayName=`${i}.SlotClone`,c=n,(o=a.forwardRef((e,s)=>{let{children:r,...l}=e,i=a.Children.toArray(r),n=i.find(d);if(n){let e=n.props.children,r=i.map(t=>t!==n?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(c,{...l,ref:s,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,t.jsx)(c,{...l,ref:s,children:r})})).displayName=`${l}.Slot`,o),x=a.forwardRef((e,a)=>{let{asChild:r,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(r?u:s,{...l,ref:a})});return x.displayName=`Primitive.${s}`,{...e,[s]:x}},{}),u="Switch",[x,m]=function(e,s=[]){let r=[],l=()=>{let t=r.map(e=>a.createContext(e));return function(s){let r=s?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return l.scopeName=e,[function(s,l){let i=a.createContext(l),n=r.length;r=[...r,l];let c=s=>{let{scope:r,children:l,...c}=s,d=r?.[e]?.[n]||i,o=a.useMemo(()=>c,Object.values(c));return(0,t.jsx)(d.Provider,{value:o,children:l})};return c.displayName=s+"Provider",[c,function(t,r){let c=r?.[e]?.[n]||i,d=a.useContext(c);if(d)return d;if(void 0!==l)return l;throw Error(`\`${t}\` must be used within \`${s}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((t,{useScope:a,scopeName:s})=>{let r=a(e)[`__scope${s}`];return{...t,...r}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return s.scopeName=t.scopeName,s}(l,...s)]}(u),[p,h]=x(u),g=a.forwardRef((e,i)=>{let{__scopeSwitch:n,name:c,checked:d,defaultChecked:x,required:m,disabled:h,value:g="on",onCheckedChange:v,form:f,...y}=e,[b,w]=a.useState(null),C=(0,r.useComposedRefs)(i,e=>w(e)),k=a.useRef(!1),S=!b||f||!!b.closest("form"),[D,L]=(0,l.useControllableState)({prop:d,defaultProp:x??!1,onChange:v,caller:u});return(0,t.jsxs)(p,{scope:n,checked:D,disabled:h,children:[(0,t.jsx)(o.button,{type:"button",role:"switch","aria-checked":D,"aria-required":m,"data-state":N(D),"data-disabled":h?"":void 0,disabled:h,value:g,...y,ref:C,onClick:(0,s.composeEventHandlers)(e.onClick,e=>{L(e=>!e),S&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),S&&(0,t.jsx)(j,{control:b,bubbles:!k.current,name:c,value:g,checked:D,required:m,disabled:h,form:f,style:{transform:"translateX(-100%)"}})]})});g.displayName=u;var v="SwitchThumb",f=a.forwardRef((e,a)=>{let{__scopeSwitch:s,...r}=e,l=h(v,s);return(0,t.jsx)(o.span,{"data-state":N(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:a})});f.displayName=v;var j=a.forwardRef(({__scopeSwitch:e,control:s,checked:l,bubbles:c=!0,...d},o)=>{let u=a.useRef(null),x=(0,r.useComposedRefs)(u,o),m=(0,i.usePrevious)(l),p=(0,n.useSize)(s);return a.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==l&&t){let a=new Event("click",{bubbles:c});t.call(e,l),e.dispatchEvent(a)}},[m,l,c]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:l,...d,tabIndex:-1,ref:x,style:{...d.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function N(e){return e?"checked":"unchecked"}j.displayName="SwitchBubbleInput";var y=e.i(52236);function b({className:e,...a}){return(0,t.jsx)(g,{"data-slot":"switch",className:(0,y.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(f,{"data-slot":"switch-thumb",className:(0,y.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}e.s(["Switch",()=>b],63756)},24989,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(70317),r=e.i(66691),l=e.i(24911),i=e.i(23621),n=e.i(63756),c=e.i(25466),d=e.i(82879),o=e.i(31278),u=e.i(88699),x=e.i(7233),m=e.i(55436),p=e.i(70931);function h(){let[e,h]=(0,a.useState)(""),g=(0,p.useAdminGetDoctorsQuery)(),[v,f]=(0,p.useAdminCreateDoctorMutation)(),[j,N]=(0,p.useAdminUpdateDoctorMutation)(),y=g.data??[],b=g.isFetching,w=(0,a.useMemo)(()=>{let t=e.trim().toLowerCase();return t?y.filter(e=>[e.fullName,e.displayName,e.email,e.registrationNumber,e.specialization,e.contact??""].join(" ").toLowerCase().includes(t)):y},[y,e]),[C,k]=(0,a.useState)(!1),[S,D]=(0,a.useState)(""),[L,I]=(0,a.useState)(""),[R,P]=(0,a.useState)(""),[E,M]=(0,a.useState)(""),[z,A]=(0,a.useState)(""),[B,O]=(0,a.useState)(""),[_,F]=(0,a.useState)(""),T=()=>{D(""),I(""),P(""),M(""),A(""),O(""),F("")},$=S.trim().length>0&&L.trim().length>0&&R.trim().length>=8&&E.trim().length>0&&z.trim().length>0&&B.trim().length>0,[V,H]=(0,a.useState)(!1),[W,U]=(0,a.useState)(null),[G,J]=(0,a.useState)(""),[K,q]=(0,a.useState)(""),[Q,X]=(0,a.useState)(""),[Z,Y]=(0,a.useState)(""),ee=!!W&&G.trim().length>0&&K.trim().length>0&&Q.trim().length>0,et=(0,a.useMemo)(()=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"relative w-72",children:[(0,t.jsx)(m.Search,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,t.jsx)(l.Input,{className:"h-9 rounded-xl pl-9 text-sm",placeholder:"Search doctors…",value:e,onChange:e=>h(e.target.value)})]}),(0,t.jsxs)(r.Button,{className:"h-9 rounded-xl",onClick:()=>{T(),k(!0)},children:[(0,t.jsx)(x.Plus,{className:"mr-2 h-4 w-4"}),"Add Doctor"]})]}),[e]);return(0,t.jsxs)("div",{className:"p-4 2xl:p-12",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Doctors"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Create and manage doctor users, profiles, and active status."})]}),et]}),(0,t.jsxs)(s.Card,{className:"rounded-2xl border bg-white p-0 shadow-none",children:[(0,t.jsxs)("div",{className:"border-b px-5 py-3",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:"Doctor Directory"}),(0,t.jsxs)("div",{className:"text-[11px] text-gray-500",children:["Showing: ",(0,t.jsx)("span",{className:"font-medium text-gray-700",children:w.length})," · Filter:"," ",(0,t.jsx)("span",{className:"font-medium text-gray-700",children:e||"All"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,t.jsx)("thead",{className:"bg-gray-50 text-[11px] font-semibold text-gray-600",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-5 py-3",children:"Doctor"}),(0,t.jsx)("th",{className:"px-5 py-3",children:"Registration"}),(0,t.jsx)("th",{className:"px-5 py-3",children:"Specialization"}),(0,t.jsx)("th",{className:"px-5 py-3",children:"Active"}),(0,t.jsx)("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y",children:b?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{className:"px-5 py-6 text-sm text-gray-500",colSpan:5,children:[(0,t.jsx)(o.Loader2,{className:"mr-2 inline h-4 w-4 animate-spin"}),"Loading doctors…"]})}):g.isError?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{className:"px-5 py-6 text-sm text-red-600",colSpan:5,children:"Failed to load doctors. Check API logs / network tab."})}):0===w.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{className:"px-5 py-6 text-sm text-gray-500",colSpan:5,children:"No doctors found."})}):w.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50/60",children:[(0,t.jsxs)("td",{className:"px-5 py-4",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.fullName}),(0,t.jsxs)("div",{className:"text-[12px] text-gray-500",children:[e.displayName," · ",e.email]}),e.contact?(0,t.jsxs)("div",{className:"text-[12px] text-gray-500",children:["Contact: ",e.contact]}):null]}),(0,t.jsx)("td",{className:"px-5 py-4",children:(0,t.jsx)("div",{className:"font-medium text-gray-900",children:e.registrationNumber})}),(0,t.jsx)("td",{className:"px-5 py-4",children:e.specialization}),(0,t.jsxs)("td",{className:"px-5 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.Switch,{checked:e.active,disabled:N.isLoading,onCheckedChange:async t=>{await j({doctorId:e.doctorId,patch:{active:t}}).unwrap()}}),e.active?(0,t.jsx)(i.Badge,{className:"rounded-full px-3 py-1 text-[11px]",variant:"secondary",children:"Active"}):(0,t.jsx)(i.Badge,{className:"rounded-full px-3 py-1 text-[11px]",variant:"destructive",children:"Inactive"})]}),(0,t.jsx)("div",{className:"mt-1 text-[11px] text-gray-500",children:"Inactive doctors cannot login."})]}),(0,t.jsx)("td",{className:"px-5 py-4 text-right",children:(0,t.jsxs)(r.Button,{variant:"secondary",className:"h-8 rounded-xl px-3 text-xs",onClick:()=>{U(e),J(e.fullName),q(e.registrationNumber),X(e.specialization),Y(e.contact??""),H(!0)},children:[(0,t.jsx)(u.Pencil,{className:"mr-2 h-4 w-4"}),"Edit"]})})]},e.doctorId))})]})}),(0,t.jsx)("div",{className:"border-t px-5 py-3 text-[11px] text-gray-500",children:"Tip: toggling active should also update the underlying user record (enforced by auth middleware)."})]}),(0,t.jsx)(d.Dialog,{open:C,onOpenChange:e=>{k(e),e||T()},children:(0,t.jsxs)(d.DialogContent,{className:"max-w-2xl rounded-2xl",children:[(0,t.jsx)(d.DialogHeader,{children:(0,t.jsx)(d.DialogTitle,{children:"Add Doctor"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Email"}),(0,t.jsx)(l.Input,{className:"h-10 rounded-xl",placeholder:"doctor@example.com",value:S,onChange:e=>D(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Display name"}),(0,t.jsx)(l.Input,{className:"h-10 rounded-xl",placeholder:"Dr. John (Login name)",value:L,onChange:e=>I(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Password"}),(0,t.jsx)(l.Input,{className:"h-10 rounded-xl",type:"password",placeholder:"Min 8 characters",value:R,onChange:e=>P(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Full name"}),(0,t.jsx)(l.Input,{className:"h-10 rounded-xl",placeholder:"Dr. John Doe",value:E,onChange:e=>M(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Registration number"}),(0,t.jsx)(l.Input,{className:"h-10 rounded-xl",placeholder:"REG-12345",value:z,onChange:e=>A(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Specialization"}),(0,t.jsx)(l.Input,{className:"h-10 rounded-xl",placeholder:"Oral surgery",value:B,onChange:e=>O(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Contact (optional)"}),(0,t.jsx)(l.Input,{className:"h-10 rounded-xl",placeholder:"+91…",value:_,onChange:e=>F(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-end gap-2",children:[(0,t.jsx)(r.Button,{variant:"secondary",className:"h-9 rounded-xl",onClick:()=>k(!1),children:"Cancel"}),(0,t.jsxs)(r.Button,{className:"h-9 rounded-xl",disabled:!$||f.isLoading,onClick:async()=>{await v({email:S.trim(),displayName:L.trim(),password:R,fullName:E.trim(),registrationNumber:z.trim(),specialization:B.trim(),..._.trim()?{contact:_.trim()}:{}}).unwrap(),k(!1)},children:[f.isLoading?(0,t.jsx)(o.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Create Doctor"]})]}),f.isError?(0,t.jsx)("div",{className:"mt-2 text-[11px] text-red-600",children:"Failed to create doctor. Check if email already exists."}):null]})}),(0,t.jsx)(d.Dialog,{open:V,onOpenChange:e=>{H(e),e||U(null)},children:(0,t.jsxs)(d.DialogContent,{className:"max-w-2xl rounded-2xl",children:[(0,t.jsx)(d.DialogHeader,{children:(0,t.jsx)(d.DialogTitle,{children:"Edit Doctor"})}),W?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Full name"}),(0,t.jsx)(l.Input,{className:"h-10 rounded-xl",value:G,onChange:e=>J(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Registration number"}),(0,t.jsx)(l.Input,{className:"h-10 rounded-xl",value:K,onChange:e=>q(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Specialization"}),(0,t.jsx)(l.Input,{className:"h-10 rounded-xl",value:Q,onChange:e=>X(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Contact (optional)"}),(0,t.jsx)(l.Input,{className:"h-10 rounded-xl",value:Z,onChange:e=>Y(e.target.value)})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-end gap-2",children:[(0,t.jsx)(r.Button,{variant:"secondary",className:"h-9 rounded-xl",onClick:()=>H(!1),children:"Cancel"}),(0,t.jsxs)(r.Button,{className:"h-9 rounded-xl",disabled:!ee||N.isLoading,onClick:async()=>{await j({doctorId:W.doctorId,patch:{fullName:G.trim(),registrationNumber:K.trim(),specialization:Q.trim(),contact:Z.trim()?Z.trim():void 0}}).unwrap(),H(!1)},children:[N.isLoading?(0,t.jsx)(o.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Save Changes"]})]}),N.isError?(0,t.jsx)("div",{className:"mt-2 text-[11px] text-red-600",children:"Failed to update doctor."}):null]}):(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"No doctor selected."})]})})]})}e.s(["default",()=>h])}]);