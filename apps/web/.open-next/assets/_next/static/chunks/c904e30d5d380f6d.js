(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},69262,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(81140),a=e.i(20783),l=e.i(26330),i=e.i(3536),s=e.i(65491),o=e.i(10772),d=e.i(53660),c=e.i(74606),u=e.i(96626);function m(e){var n;let l,i=(n=e,(l=r.forwardRef((e,t)=>{let{children:n,...l}=e;if(r.isValidElement(n)){var i;let e,s,o=(i=n,(s=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(s=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref),d=function(e,t){let r={...t};for(let n in t){let a=e[n],l=t[n];/^on[A-Z]/.test(n)?a&&l?r[n]=(...e)=>{let t=l(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...l}:"className"===n&&(r[n]=[a,l].filter(Boolean).join(" "))}return{...e,...r}}(l,n.props);return n.type!==r.Fragment&&(d.ref=t?(0,a.composeRefs)(t,o):o),r.cloneElement(n,d)}return r.Children.count(n)>1?r.Children.only(null):null})).displayName=`${n}.SlotClone`,l),s=r.forwardRef((e,n)=>{let{children:a,...l}=e,s=r.Children.toArray(a),o=s.find(f);if(o){let e=o.props.children,a=s.map(t=>t!==o?t:r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null);return(0,t.jsx)(i,{...l,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,a):null})}return(0,t.jsx)(i,{...l,ref:n,children:a})});return s.displayName=`${e}.Slot`,s}e.i(74080);var p=Symbol("radix.slottable");function f(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}var x=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{let a=m(`Primitive.${n}`),l=r.forwardRef((e,r)=>{let{asChild:l,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(l?a:n,{...i,ref:r})});return l.displayName=`Primitive.${n}`,{...e,[n]:l}},{}),h=e.i(69340),v=e.i(86312),g=e.i(85369),b="Popover",[y,j]=function(e,n=[]){let a=[],l=()=>{let t=a.map(e=>r.createContext(e));return function(n){let a=n?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...n,[e]:a}}),[n,a])}};return l.scopeName=e,[function(n,l){let i=r.createContext(l),s=a.length;a=[...a,l];let o=n=>{let{scope:a,children:l,...o}=n,d=a?.[e]?.[s]||i,c=r.useMemo(()=>o,Object.values(o));return(0,t.jsx)(d.Provider,{value:c,children:l})};return o.displayName=n+"Provider",[o,function(t,a){let o=a?.[e]?.[s]||i,d=r.useContext(o);if(d)return d;if(void 0!==l)return l;throw Error(`\`${t}\` must be used within \`${n}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=n.reduce((t,{useScope:r,scopeName:n})=>{let a=r(e)[`__scope${n}`];return{...t,...a}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}(l,...n)]}(b,[d.createPopperScope]),N=(0,d.createPopperScope)(),[w,k]=y(b),C=e=>{let{__scopePopover:n,children:a,open:l,defaultOpen:i,onOpenChange:s,modal:c=!1}=e,u=N(n),m=r.useRef(null),[p,f]=r.useState(!1),[x,v]=(0,h.useControllableState)({prop:l,defaultProp:i??!1,onChange:s,caller:b});return(0,t.jsx)(d.Root,{...u,children:(0,t.jsx)(w,{scope:n,contentId:(0,o.useId)(),triggerRef:m,open:x,onOpenChange:v,onOpenToggle:r.useCallback(()=>v(e=>!e),[v]),hasCustomAnchor:p,onCustomAnchorAdd:r.useCallback(()=>f(!0),[]),onCustomAnchorRemove:r.useCallback(()=>f(!1),[]),modal:c,children:a})})};C.displayName=b;var E="PopoverAnchor";r.forwardRef((e,n)=>{let{__scopePopover:a,...l}=e,i=k(E,a),s=N(a),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=i;return r.useEffect(()=>(o(),()=>c()),[o,c]),(0,t.jsx)(d.Anchor,{...s,...l,ref:n})}).displayName=E;var S="PopoverTrigger",P=r.forwardRef((e,r)=>{let{__scopePopover:l,...i}=e,s=k(S,l),o=N(l),c=(0,a.useComposedRefs)(r,s.triggerRef),u=(0,t.jsx)(x.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":T(s.open),...i,ref:c,onClick:(0,n.composeEventHandlers)(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:(0,t.jsx)(d.Anchor,{asChild:!0,...o,children:u})});P.displayName=S;var A="PopoverPortal",[R,I]=y(A,{forceMount:void 0}),M=e=>{let{__scopePopover:r,forceMount:n,children:a,container:l}=e,i=k(A,r);return(0,t.jsx)(R,{scope:r,forceMount:n,children:(0,t.jsx)(u.Presence,{present:n||i.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:l,children:a})})})};M.displayName=A;var D="PopoverContent",F=r.forwardRef((e,r)=>{let n=I(D,e.__scopePopover),{forceMount:a=n.forceMount,...l}=e,i=k(D,e.__scopePopover);return(0,t.jsx)(u.Presence,{present:a||i.open,children:i.modal?(0,t.jsx)(O,{...l,ref:r}):(0,t.jsx)(_,{...l,ref:r})})});F.displayName=D;var L=m("PopoverContent.RemoveScroll"),O=r.forwardRef((e,l)=>{let i=k(D,e.__scopePopover),s=r.useRef(null),o=(0,a.useComposedRefs)(l,s),d=r.useRef(!1);return r.useEffect(()=>{let e=s.current;if(e)return(0,v.hideOthers)(e)},[]),(0,t.jsx)(g.RemoveScroll,{as:L,allowPinchZoom:!0,children:(0,t.jsx)(B,{...e,ref:o,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,n.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),d.current||i.triggerRef.current?.focus()}),onPointerDownOutside:(0,n.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;d.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,n.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),_=r.forwardRef((e,n)=>{let a=k(D,e.__scopePopover),l=r.useRef(!1),i=r.useRef(!1);return(0,t.jsx)(B,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(l.current||a.triggerRef.current?.focus(),t.preventDefault()),l.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(l.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let r=t.target;a.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),B=r.forwardRef((e,r)=>{let{__scopePopover:n,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:x,...h}=e,v=k(D,n),g=N(n);return(0,i.useFocusGuards)(),(0,t.jsx)(s.FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:c,children:(0,t.jsx)(l.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:x,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:(0,t.jsx)(d.Content,{"data-state":T(v.open),role:"dialog",id:v.contentId,...g,...h,ref:r,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),$="PopoverClose";function T(e){return e?"open":"closed"}r.forwardRef((e,r)=>{let{__scopePopover:a,...l}=e,i=k($,a);return(0,t.jsx)(x.button,{type:"button",...l,ref:r,onClick:(0,n.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})}).displayName=$,r.forwardRef((e,r)=>{let{__scopePopover:n,...a}=e,l=N(n);return(0,t.jsx)(d.Arrow,{...l,...a,ref:r})}).displayName="PopoverArrow";var q=e.i(52236);function z({...e}){return(0,t.jsx)(C,{"data-slot":"popover",...e})}function V({...e}){return(0,t.jsx)(P,{"data-slot":"popover-trigger",...e})}function H({className:e,align:r="center",sideOffset:n=4,...a}){return(0,t.jsx)(M,{children:(0,t.jsx)(F,{"data-slot":"popover-content",align:r,sideOffset:n,className:(0,q.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...a})})}e.s(["Popover",()=>z,"PopoverContent",()=>H,"PopoverTrigger",()=>V],69262)},6662,e=>{"use strict";var t=e.i(43476),r=e.i(52236);function n({className:e,...n}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...n})}e.s(["Textarea",()=>n])},75389,43531,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(78745);e.s(["Check",()=>n.default],43531);var n=n;let a=(0,e.i(75254).default)("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var l=e.i(7233),i=e.i(52236),s=e.i(66691),o=e.i(69262),d=/[\\\/_+.#"@\[\(\{&]/,c=/[\\\/_+.#"@\[\(\{&]/g,u=/[\s-]/,m=/[\s-]/g;function p(e){return e.toLowerCase().replace(m," ")}var f=e.i(26999),x=e.i(48425),h=e.i(10772),v=e.i(20783),g='[cmdk-group=""]',b='[cmdk-group-items=""]',y='[cmdk-item=""]',j=`${y}:not([aria-disabled="true"])`,N="cmdk-item-select",w="data-value",k=(e,t,r)=>{var n;return n=e,function e(t,r,n,a,l,i,s){if(i===r.length)return l===t.length?1:.99;var o=`${l},${i}`;if(void 0!==s[o])return s[o];for(var p,f,x,h,v=a.charAt(i),g=n.indexOf(v,l),b=0;g>=0;)(p=e(t,r,n,a,g+1,i+1,s))>b&&(g===l?p*=1:d.test(t.charAt(g-1))?(p*=.8,(x=t.slice(l,g-1).match(c))&&l>0&&(p*=Math.pow(.999,x.length))):u.test(t.charAt(g-1))?(p*=.9,(h=t.slice(l,g-1).match(m))&&l>0&&(p*=Math.pow(.999,h.length))):(p*=.17,l>0&&(p*=Math.pow(.999,g-l))),t.charAt(g)!==r.charAt(i)&&(p*=.9999)),(p<.1&&n.charAt(g-1)===a.charAt(i+1)||a.charAt(i+1)===a.charAt(i)&&n.charAt(g-1)!==a.charAt(i))&&.1*(f=e(t,r,n,a,g+1,i+2,s))>p&&(p=.1*f),p>b&&(b=p),g=n.indexOf(v,g+1);return s[o]=b,b}(n=r&&r.length>0?`${n+" "+r.join(" ")}`:n,t,p(n),p(t),0,0,{})},C=r.createContext(void 0),E=r.createContext(void 0),S=r.createContext(void 0),P=r.forwardRef((e,t)=>{let n=B(()=>{var t,r;return{search:"",value:null!=(r=null!=(t=e.value)?t:e.defaultValue)?r:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=B(()=>new Set),l=B(()=>new Map),i=B(()=>new Map),s=B(()=>new Set),o=O(e),{label:d,children:c,value:u,onValueChange:m,filter:p,shouldFilter:f,loop:v,disablePointerSelection:S=!1,vimBindings:P=!0,...A}=e,R=(0,h.useId)(),I=(0,h.useId)(),M=(0,h.useId)(),D=r.useRef(null),F=q();_(()=>{if(void 0!==u){let e=u.trim();n.current.value=e,L.emit()}},[u]),_(()=>{F(6,G)},[]);let L=r.useMemo(()=>({subscribe:e=>(s.current.add(e),()=>s.current.delete(e)),snapshot:()=>n.current,setState:(e,t,r)=>{var a,l,i,s;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)U(),H(),F(1,K);else if("value"===e){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let e=document.getElementById(M);e?e.focus():null==(a=document.getElementById(R))||a.focus()}if(F(7,()=>{var e;n.current.selectedItemId=null==(e=W())?void 0:e.id,L.emit()}),r||F(5,G),(null==(l=o.current)?void 0:l.value)!==void 0){null==(s=(i=o.current).onValueChange)||s.call(i,null!=t?t:"");return}}L.emit()}},emit:()=>{s.current.forEach(e=>e())}}),[]),$=r.useMemo(()=>({value:(e,t,r)=>{var a;t!==(null==(a=i.current.get(e))?void 0:a.value)&&(i.current.set(e,{value:t,keywords:r}),n.current.filtered.items.set(e,T(t,r)),F(2,()=>{H(),L.emit()}))},item:(e,t)=>(a.current.add(e),t&&(l.current.has(t)?l.current.get(t).add(e):l.current.set(t,new Set([e]))),F(3,()=>{U(),H(),n.current.value||K(),L.emit()}),()=>{i.current.delete(e),a.current.delete(e),n.current.filtered.items.delete(e);let t=W();F(4,()=>{U(),(null==t?void 0:t.getAttribute("id"))===e&&K(),L.emit()})}),group:e=>(l.current.has(e)||l.current.set(e,new Set),()=>{i.current.delete(e),l.current.delete(e)}),filter:()=>o.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:R,inputId:M,labelId:I,listInnerRef:D}),[]);function T(e,t){var r,a;let l=null!=(a=null==(r=o.current)?void 0:r.filter)?a:k;return e?l(e,n.current.search,t):0}function H(){if(!n.current.search||!1===o.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach(r=>{let n=l.current.get(r),a=0;n.forEach(t=>{a=Math.max(e.get(t),a)}),t.push([r,a])});let r=D.current;Y().sort((t,r)=>{var n,a;let l=t.getAttribute("id"),i=r.getAttribute("id");return(null!=(n=e.get(i))?n:0)-(null!=(a=e.get(l))?a:0)}).forEach(e=>{let t=e.closest(b);t?t.appendChild(e.parentElement===t?e:e.closest(`${b} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${b} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{var t;let r=null==(t=D.current)?void 0:t.querySelector(`${g}[${w}="${encodeURIComponent(e[0])}"]`);null==r||r.parentElement.appendChild(r)})}function K(){let e=Y().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(w);L.setState("value",t||void 0)}function U(){var e,t,r,s;if(!n.current.search||!1===o.current.shouldFilter){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let d=0;for(let l of a.current){let a=T(null!=(t=null==(e=i.current.get(l))?void 0:e.value)?t:"",null!=(s=null==(r=i.current.get(l))?void 0:r.keywords)?s:[]);n.current.filtered.items.set(l,a),a>0&&d++}for(let[e,t]of l.current)for(let r of t)if(n.current.filtered.items.get(r)>0){n.current.filtered.groups.add(e);break}n.current.filtered.count=d}function G(){var e,t,r;let n=W();n&&((null==(e=n.parentElement)?void 0:e.firstChild)===n&&(null==(r=null==(t=n.closest(g))?void 0:t.querySelector('[cmdk-group-heading=""]'))||r.scrollIntoView({block:"nearest"})),n.scrollIntoView({block:"nearest"}))}function W(){var e;return null==(e=D.current)?void 0:e.querySelector(`${y}[aria-selected="true"]`)}function Y(){var e;return Array.from((null==(e=D.current)?void 0:e.querySelectorAll(j))||[])}function Q(e){let t=Y()[e];t&&L.setState("value",t.getAttribute(w))}function Z(e){var t;let r=W(),n=Y(),a=n.findIndex(e=>e===r),l=n[a+e];null!=(t=o.current)&&t.loop&&(l=a+e<0?n[n.length-1]:a+e===n.length?n[0]:n[a+e]),l&&L.setState("value",l.getAttribute(w))}function J(e){let t=W(),r=null==t?void 0:t.closest(g),n;for(;r&&!n;)n=null==(r=e>0?function(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}(r,g):function(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}(r,g))?void 0:r.querySelector(j);n?L.setState("value",n.getAttribute(w)):Z(e)}let X=()=>Q(Y().length-1),ee=e=>{e.preventDefault(),e.metaKey?X():e.altKey?J(1):Z(1)},et=e=>{e.preventDefault(),e.metaKey?Q(0):e.altKey?J(-1):Z(-1)};return r.createElement(x.Primitive.div,{ref:t,tabIndex:-1,...A,"cmdk-root":"",onKeyDown:e=>{var t;null==(t=A.onKeyDown)||t.call(A,e);let r=e.nativeEvent.isComposing||229===e.keyCode;if(!(e.defaultPrevented||r))switch(e.key){case"n":case"j":P&&e.ctrlKey&&ee(e);break;case"ArrowDown":ee(e);break;case"p":case"k":P&&e.ctrlKey&&et(e);break;case"ArrowUp":et(e);break;case"Home":e.preventDefault(),Q(0);break;case"End":e.preventDefault(),X();break;case"Enter":{e.preventDefault();let t=W();if(t){let e=new Event(N);t.dispatchEvent(e)}}}}},r.createElement("label",{"cmdk-label":"",htmlFor:$.inputId,id:$.labelId,style:V},d),z(e,e=>r.createElement(E.Provider,{value:L},r.createElement(C.Provider,{value:$},e))))}),A=r.forwardRef((e,t)=>{var n,a;let l=(0,h.useId)(),i=r.useRef(null),s=r.useContext(S),o=r.useContext(C),d=O(e),c=null!=(a=null==(n=d.current)?void 0:n.forceMount)?a:null==s?void 0:s.forceMount;_(()=>{if(!c)return o.item(l,null==s?void 0:s.id)},[c]);let u=T(l,i,[e.value,e.children,i],e.keywords),m=r.useContext(E),p=$(e=>e.value&&e.value===u.current),f=$(e=>!!c||!1===o.filter()||!e.search||e.filtered.items.get(l)>0);function g(){var e,t;b(),null==(t=(e=d.current).onSelect)||t.call(e,u.current)}function b(){m.setState("value",u.current,!0)}if(r.useEffect(()=>{let t=i.current;if(!(!t||e.disabled))return t.addEventListener(N,g),()=>t.removeEventListener(N,g)},[f,e.onSelect,e.disabled]),!f)return null;let{disabled:y,value:j,onSelect:w,forceMount:k,keywords:P,...A}=e;return r.createElement(x.Primitive.div,{ref:(0,v.composeRefs)(i,t),...A,id:l,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!p,"data-disabled":!!y,"data-selected":!!p,onPointerMove:y||o.getDisablePointerSelection()?void 0:b,onClick:y?void 0:g},e.children)}),R=r.forwardRef((e,t)=>{let{heading:n,children:a,forceMount:l,...i}=e,s=(0,h.useId)(),o=r.useRef(null),d=r.useRef(null),c=(0,h.useId)(),u=r.useContext(C),m=$(e=>!!l||!1===u.filter()||!e.search||e.filtered.groups.has(s));_(()=>u.group(s),[]),T(s,o,[e.value,e.heading,d]);let p=r.useMemo(()=>({id:s,forceMount:l}),[l]);return r.createElement(x.Primitive.div,{ref:(0,v.composeRefs)(o,t),...i,"cmdk-group":"",role:"presentation",hidden:!m||void 0},n&&r.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),z(e,e=>r.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},r.createElement(S.Provider,{value:p},e))))}),I=r.forwardRef((e,t)=>{let{alwaysRender:n,...a}=e,l=r.useRef(null),i=$(e=>!e.search);return n||i?r.createElement(x.Primitive.div,{ref:(0,v.composeRefs)(l,t),...a,"cmdk-separator":"",role:"separator"}):null}),M=r.forwardRef((e,t)=>{let{onValueChange:n,...a}=e,l=null!=e.value,i=r.useContext(E),s=$(e=>e.search),o=$(e=>e.selectedItemId),d=r.useContext(C);return r.useEffect(()=>{null!=e.value&&i.setState("search",e.value)},[e.value]),r.createElement(x.Primitive.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":o,id:d.inputId,type:"text",value:l?e.value:s,onChange:e=>{l||i.setState("search",e.target.value),null==n||n(e.target.value)}})}),D=r.forwardRef((e,t)=>{let{children:n,label:a="Suggestions",...l}=e,i=r.useRef(null),s=r.useRef(null),o=$(e=>e.selectedItemId),d=r.useContext(C);return r.useEffect(()=>{if(s.current&&i.current){let e=s.current,t=i.current,r,n=new ResizeObserver(()=>{r=requestAnimationFrame(()=>{let r=e.offsetHeight;t.style.setProperty("--cmdk-list-height",r.toFixed(1)+"px")})});return n.observe(e),()=>{cancelAnimationFrame(r),n.unobserve(e)}}},[]),r.createElement(x.Primitive.div,{ref:(0,v.composeRefs)(i,t),...l,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":a,id:d.listId},z(e,e=>r.createElement("div",{ref:(0,v.composeRefs)(s,d.listInnerRef),"cmdk-list-sizer":""},e)))}),F=r.forwardRef((e,t)=>{let{open:n,onOpenChange:a,overlayClassName:l,contentClassName:i,container:s,...o}=e;return r.createElement(f.Root,{open:n,onOpenChange:a},r.createElement(f.Portal,{container:s},r.createElement(f.Overlay,{"cmdk-overlay":"",className:l}),r.createElement(f.Content,{"aria-label":e.label,"cmdk-dialog":"",className:i},r.createElement(P,{ref:t,...o}))))}),L=Object.assign(P,{List:D,Item:A,Input:M,Group:R,Separator:I,Dialog:F,Empty:r.forwardRef((e,t)=>$(e=>0===e.filtered.count)?r.createElement(x.Primitive.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:r.forwardRef((e,t)=>{let{progress:n,children:a,label:l="Loading...",...i}=e;return r.createElement(x.Primitive.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":l},z(e,e=>r.createElement("div",{"aria-hidden":!0},e)))})});function O(e){let t=r.useRef(e);return _(()=>{t.current=e}),t}var _="undefined"==typeof window?r.useEffect:r.useLayoutEffect;function B(e){let t=r.useRef();return void 0===t.current&&(t.current=e()),t}function $(e){let t=r.useContext(E),n=()=>e(t.snapshot());return r.useSyncExternalStore(t.subscribe,n,n)}function T(e,t,n,a=[]){let l=r.useRef(),i=r.useContext(C);return _(()=>{var r;let s=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():l.current}})(),o=a.map(e=>e.trim());i.value(e,s,o),null==(r=t.current)||r.setAttribute(w,s),l.current=s}),l}var q=()=>{let[e,t]=r.useState(),n=B(()=>new Map);return _(()=>{n.current.forEach(e=>e()),n.current=new Map},[e]),(e,r)=>{n.current.set(e,r),t({})}};function z({asChild:e,children:t},n){let a;return e&&r.isValidElement(t)?r.cloneElement("function"==typeof(a=t.type)?a(t.props):"render"in a?a.render(t.props):t,{ref:t.ref},n(t.props.children)):n(t)}var V={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},H=e.i(54943),H=H;function K({className:e,...r}){return(0,t.jsx)(L,{"data-slot":"command",className:(0,i.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...r})}function U({className:e,...r}){return(0,t.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,t.jsx)(H.default,{className:"size-4 shrink-0 opacity-50"}),(0,t.jsx)(L.Input,{"data-slot":"command-input",className:(0,i.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...r})]})}function G({className:e,...r}){return(0,t.jsx)(L.List,{"data-slot":"command-list",className:(0,i.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...r})}function W({...e}){return(0,t.jsx)(L.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function Y({className:e,...r}){return(0,t.jsx)(L.Group,{"data-slot":"command-group",className:(0,i.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...r})}function Q({className:e,...r}){return(0,t.jsx)(L.Item,{"data-slot":"command-item",className:(0,i.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}e.i(82879);var Z=e.i(70931);function J({value:e,onPick:d,placeholder:c,inputRef:u,triggerRef:m,onEnterPicked:p}){let f,x,[h,v]=r.useState(!1),[g,b]=r.useState(e),[y,j]=(0,Z.useLazySearchMedicinesQuery)(),[N,w]=(0,Z.useQuickAddMedicineMutation)();r.useEffect(()=>{b(e)},[e]),r.useEffect(()=>{if(!h)return;let e=g.trim();e.length<2||y({query:e,limit:10})},[h,g,y]);let k=j.data?.items??[],C=g.trim().length>=2&&!k.some(e=>e.displayName===g.trim()),E=k.length+ +!!C,[S,P]=r.useState(0);r.useEffect(()=>{if(h){if(k.length>0||C)return void P(0);P(0)}},[h,k.length,C,g]);let A=async()=>{let e=g.trim();e.length<2||(d(await N({displayName:e}).unwrap()),v(!1),p?.())},R=e=>{d(e),v(!1),p?.()},I=e=>{E<=0||P(t=>{let r=t+e;return r<0?0:r>E-1?E-1:r})};return(0,t.jsxs)(o.Popover,{open:h,onOpenChange:v,children:[(0,t.jsx)(o.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{ref:m,variant:"outline",role:"combobox",className:"w-full justify-between rounded-xl cursor-pointer",children:[(0,t.jsx)("span",{className:"truncate text-left",children:e||c||"Select medicine"}),(0,t.jsx)(a,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,t.jsx)(o.PopoverContent,{className:"w-[--radix-popover-trigger-width] p-0",children:(0,t.jsxs)(K,{onKeyDown:e=>{if(h){if("ArrowDown"===e.key){e.preventDefault(),I(1);return}if("ArrowUp"===e.key){e.preventDefault(),I(-1);return}if("Enter"===e.key){e.preventDefault(),(()=>{if(!(E<=0)){if(S<k.length){let e=k[S];e&&R(e);return}C&&A()}})();return}}},children:[(0,t.jsx)(U,{ref:u,placeholder:"Search medicine...",value:g,onValueChange:b}),(0,t.jsxs)(G,{children:[(0,t.jsx)(W,{children:"No medicines found."}),(0,t.jsx)(Y,{heading:"Results",children:k.map((r,a)=>{let l=S===a;return(0,t.jsxs)(Q,{value:r.displayName,onMouseEnter:()=>P(a),onSelect:()=>R(r),"aria-selected":l,"data-selected":l?"true":"false",children:[(0,t.jsx)(n.default,{className:(0,i.cn)("mr-2 h-4 w-4",e===r.displayName?"opacity-100":"opacity-0")}),(0,t.jsx)("span",{className:"truncate",children:r.displayName})]},r.id)})}),C?(0,t.jsx)(Y,{heading:"Create",children:(x=S===(f=k.length),(0,t.jsxs)(Q,{value:`add:${g}`,onMouseEnter:()=>P(f),onSelect:()=>void A(),disabled:w.isLoading,"aria-selected":x,"data-selected":x?"true":"false",children:[(0,t.jsx)(l.Plus,{className:"mr-2 h-4 w-4"}),"Add “",g.trim(),"”"]}))}):null]})]})})]})}e.s(["MedicineCombobox",()=>J],75389)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],7233)},23621,e=>{"use strict";var t=e.i(43476),r=e.i(91918),n=e.i(25913),a=e.i(52236);let l=(0,n.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:n,asChild:i=!1,...s}){let o=i?r.Slot:"span";return(0,t.jsx)(o,{"data-slot":"badge",className:(0,a.cn)(l({variant:n}),e),...s})}e.s(["Badge",()=>i])},54943,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["default",()=>t])},88699,e=>{"use strict";let t=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],88699)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},25466,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(48425),a=r.forwardRef((e,r)=>(0,t.jsx)(n.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var l=e.i(52236);function i({className:e,...r}){return(0,t.jsx)(a,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>i],25466)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},1508,e=>{"use strict";var t=e.i(43476),r=e.i(22016),n=e.i(71645),a=e.i(70317),l=e.i(66691),i=e.i(24911),s=e.i(25466),o=e.i(6662),d=e.i(23621),c=e.i(71689),u=e.i(31278),m=e.i(88699),p=e.i(7233),f=e.i(27612);let x=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var h=e.i(75389);let v=["QD","BID","TID","QID","HS","PRN"],g=["BEFORE_MEAL","AFTER_MEAL","ANY"];function b(e){return"string"==typeof e&&v.includes(e)}function y(e){return"string"==typeof e&&g.includes(e)}let j=e=>e?"BEFORE_MEAL"===e?"Before meal":"AFTER_MEAL"===e?"After meal":"Any time":"—",N=e=>e.split(",").map(e=>e.trim()).filter(Boolean);function w({mode:e,backHref:w,initial:k,loading:C,error:E,canUseApi:S,onSubmit:P,submitLabel:A,submitting:R}){let[I,M]=(0,n.useState)(""),[D,F]=(0,n.useState)(""),[L,O]=(0,n.useState)([]),[_,B]=(0,n.useState)(null),[$,T]=(0,n.useState)(""),[q,z]=(0,n.useState)(""),[V,H]=(0,n.useState)("BID"),[K,U]=(0,n.useState)("5"),[G,W]=(0,n.useState)("ANY"),[Y,Q]=(0,n.useState)(""),[Z,J]=(0,n.useState)("");(0,n.useEffect)(()=>{k&&(M(k.name??""),F((k.tags??[]).join(", ")),O(k.lines??[]),B(null),T(""),z(""),H("BID"),U("5"),W("ANY"),Q(""),J(""))},[k?.name,(k?.tags??[]).join("|"),(k?.lines??[]).length]);let X=(0,n.useMemo)(()=>{let e=Number(K);return Number.isFinite(e)?e:NaN},[K]),ee=$.trim().length>0&&q.trim().length>0&&v.includes(V)&&Number.isFinite(X)&&X>=1&&X<=365,et=S&&I.trim().length>0&&L.length>0,er=(0,n.useMemo)(()=>N(D),[D]),en=(0,n.useMemo)(()=>{let e=L.map(e=>e.medicine).filter(Boolean);if(0===e.length)return null;let t=e.slice(0,6),r=e.length-t.length;return r>0?`${t.join(", ")} +${r} more`:t.join(", ")},[L]),ea=()=>{T(""),z(""),H("BID"),U("5"),W("ANY"),Q(""),J(""),B(null)},el=async()=>{if(!et)return;let e=N(D);await P({name:I.trim(),tags:e.length?e:void 0,lines:L})};return(0,t.jsx)("div",{className:"min-h-[calc(100vh-64px)] bg-gray-50",children:(0,t.jsxs)("div",{className:"mx-auto w-full max-w-none px-4 py-4 2xl:px-10 2xl:py-10",children:[(0,t.jsx)("div",{className:"sticky top-0 z-10 -mx-4 mb-4 border-b bg-gray-50/80 px-4 py-3 backdrop-blur 2xl:-mx-10 2xl:px-10",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)(l.Button,{asChild:!0,variant:"secondary",className:"h-10 rounded-2xl",children:(0,t.jsxs)(r.default,{href:w,children:[(0,t.jsx)(c.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"hidden text-right text-[11px] text-gray-500 md:block",children:["Lines: ",(0,t.jsx)("span",{className:"font-medium text-gray-900",children:L.length})]}),(0,t.jsxs)(l.Button,{className:"h-10 rounded-2xl",onClick:el,disabled:!et||!!R,children:[R?(0,t.jsx)(u.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):"edit"===e?(0,t.jsx)(x,{className:"mr-2 h-4 w-4"}):null,A??("create"===e?"Create Preset":"Save Changes")]})]})]})}),C&&(0,t.jsx)("div",{className:"rounded-2xl border bg-white px-6 py-5 text-sm text-gray-600",children:"Loading preset…"}),E&&(0,t.jsx)("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-6 py-5 text-sm text-red-700",children:"Failed to load preset. Check API logs / network tab."}),!C&&!E&&(0,t.jsxs)("div",{className:"flex flex-col gap-5 xl:flex-row xl:items-start",children:[(0,t.jsx)("div",{className:"min-w-0 flex-1",children:(0,t.jsxs)(a.Card,{className:"rounded-3xl border bg-white p-0 shadow-sm",children:[(0,t.jsx)("div",{className:"border-b px-6 py-5",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"truncate text-xl font-semibold text-gray-900",children:I.trim()?I.trim():"Untitled preset"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:er.length?er.map(e=>(0,t.jsx)(d.Badge,{variant:"secondary",className:"rounded-full px-3 py-1 text-[11px]",children:e},e)):(0,t.jsx)(d.Badge,{variant:"secondary",className:"rounded-full px-3 py-1 text-[11px]",children:"No tags"})}),(0,t.jsx)("div",{className:"mt-3 text-[12px] text-gray-600",children:en?(0,t.jsx)("span",{className:"line-clamp-1",children:en}):(0,t.jsx)("span",{className:"text-gray-500",children:"No medicines added yet."})})]}),(0,t.jsxs)("div",{className:"hidden shrink-0 rounded-2xl bg-gray-50 px-3 py-2 text-right text-[11px] text-gray-600 md:block",children:[(0,t.jsx)("div",{className:"font-medium text-gray-900",children:L.length}),(0,t.jsx)("div",{children:"lines"})]})]})}),(0,t.jsxs)("div",{className:"p-6",children:[0===L.length?(0,t.jsx)("div",{className:"rounded-3xl border border-dashed bg-gray-50 p-10 text-center",children:(0,t.jsxs)("div",{className:"mx-auto max-w-md",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:"Start by adding a medicine line"}),(0,t.jsx)("div",{className:"mt-1 text-sm text-gray-600",children:"Use the builder on the right. Each line will appear here with full details."})]})}):(0,t.jsx)("div",{className:"flex flex-col gap-3",children:L.map((e,r)=>{let n;return(0,t.jsx)("div",{className:function(...e){return e.filter(Boolean).join(" ")}("rounded-3xl border bg-white p-4 transition",_===r&&"ring-2 ring-ring/30"),children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"truncate text-base font-semibold text-gray-900",children:e.medicine}),(0,t.jsx)("div",{className:"mt-1 text-[12px] text-gray-600",children:((n=[]).push(e.medicine),n.push(String(e.dose??"")),n.push(e.frequency),n.push(`${e.duration}d`),e.timing&&n.push(j(y(e.timing)?e.timing:void 0)),n.filter(Boolean).join(" · "))}),(0,t.jsxs)("div",{className:"mt-3 grid grid-cols-2 gap-x-6 gap-y-2 text-[12px] text-gray-700",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Dose:"})," ",(0,t.jsx)("span",{className:"font-medium",children:String(e.dose??"")})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Frequency:"})," ",(0,t.jsx)("span",{className:"font-medium",children:e.frequency})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Duration:"})," ",(0,t.jsxs)("span",{className:"font-medium",children:[e.duration," days"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Timing:"})," ",(0,t.jsx)("span",{className:"font-medium",children:j(y(e.timing)?e.timing:void 0)})]})]}),(e.sig||e.notes)&&(0,t.jsxs)("div",{className:"mt-3 rounded-2xl bg-gray-50 p-3 text-[12px] text-gray-700",children:[e.sig?(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"SIG:"})," ",(0,t.jsx)("span",{className:"font-medium",children:e.sig})]}):null,e.notes?(0,t.jsxs)("div",{className:e.sig?"mt-2":"",children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Notes:"})," ",e.notes]}):null]})]}),(0,t.jsxs)("div",{className:"flex shrink-0 items-center gap-2",children:[(0,t.jsxs)(l.Button,{variant:"secondary",className:"h-9 rounded-2xl",onClick:()=>{let e;T((e=L[r]).medicine??""),z("string"==typeof e.dose?e.dose:""),H(b(e.frequency)?e.frequency:"BID"),U(String("number"==typeof e.duration?e.duration:5)),W(y(e.timing)?e.timing:"ANY"),Q("string"==typeof e.sig?e.sig:""),J("string"==typeof e.notes?e.notes:""),B(r)},children:[(0,t.jsx)(m.Pencil,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,t.jsxs)(l.Button,{variant:"destructive",className:"h-9 rounded-2xl",onClick:()=>{O(e=>e.filter((e,t)=>t!==r)),_===r&&ea()},children:[(0,t.jsx)(f.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})},r)})}),!S&&(0,t.jsxs)("div",{className:"mt-4 rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:["Please log in as admin to ","create"===e?"create":"edit"," presets."]})]})]})}),(0,t.jsx)("div",{className:"w-full xl:w-120 xl:sticky xl:top-20",children:(0,t.jsxs)(a.Card,{className:"rounded-3xl border bg-white p-0 shadow-sm",children:[(0,t.jsxs)("div",{className:"border-b px-6 py-5",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:"Preset Builder"}),(0,t.jsx)("div",{className:"mt-1 text-[12px] text-gray-600",children:"Add / edit a medicine line → updates immediately on the left."})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(s.Label,{className:"text-xs",children:"Preset name"}),(0,t.jsx)(i.Input,{className:"h-10 rounded-2xl",placeholder:"e.g., Teeth transplant protocol",value:I,onChange:e=>M(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(s.Label,{className:"text-xs",children:"Tags (comma-separated)"}),(0,t.jsx)(i.Input,{className:"h-10 rounded-2xl",placeholder:"e.g., surgery, antibiotics",value:D,onChange:e=>F(e.target.value)})]}),(0,t.jsx)("div",{className:"h-px bg-gray-100"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:null===_?"Add medicine line":`Edit line #${_+1}`}),null!==_&&(0,t.jsx)(l.Button,{variant:"secondary",className:"h-8 rounded-xl px-3 text-xs",onClick:ea,children:"Cancel edit"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(s.Label,{className:"text-xs",children:"Medicine (required)"}),(0,t.jsx)(h.MedicineCombobox,{value:$,placeholder:"Search medicine…",onPick:e=>{T(e.displayName??"");let t=e??{},r=t.defaultFrequency;b(r)&&H(r);let n=t.defaultDuration;"number"==typeof n&&Number.isFinite(n)&&n>=1&&n<=365&&U(String(n));let a=t.defaultDose;"string"==typeof a&&a.trim()&&z(a.trim())}}),0===$.trim().length?(0,t.jsx)("div",{className:"text-[11px] text-gray-500",children:"Type at least 2 characters to search."}):null]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(s.Label,{className:"text-xs",children:"Dose (required)"}),(0,t.jsx)(i.Input,{className:"h-10 rounded-2xl",placeholder:"e.g., 500mg",value:q,onChange:e=>z(e.target.value)})]})}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(s.Label,{className:"text-xs",children:"Duration (days)"}),(0,t.jsx)(i.Input,{className:"h-10 rounded-2xl",inputMode:"numeric",placeholder:"e.g., 5",value:K,onChange:e=>U(e.target.value)}),!Number.isFinite(X)||X<1||X>365?(0,t.jsx)("div",{className:"text-[11px] text-gray-500",children:"Duration must be 1–365."}):null]})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(s.Label,{className:"text-xs",children:"Frequency"}),(0,t.jsx)("select",{className:"h-10 w-full rounded-2xl border border-input bg-background px-3 text-sm outline-none ring-offset-background focus-visible:ring-2 focus-visible:ring-ring/50",value:V,onChange:e=>H(e.target.value),children:v.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(s.Label,{className:"text-xs",children:"Timing"}),(0,t.jsx)("select",{className:"h-10 w-full rounded-2xl border border-input bg-background px-3 text-sm outline-none ring-offset-background focus-visible:ring-2 focus-visible:ring-ring/50",value:G,onChange:e=>W(e.target.value),children:g.map(e=>(0,t.jsx)("option",{value:e,children:j(e)},e))})]})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(s.Label,{className:"text-xs",children:"SIG (optional)"}),(0,t.jsx)(i.Input,{className:"h-10 rounded-2xl",placeholder:"e.g., Take after meals",value:Y,onChange:e=>Q(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(s.Label,{className:"text-xs",children:"Notes (optional)"}),(0,t.jsx)(o.Textarea,{className:"rounded-2xl",rows:4,placeholder:"Any notes to store with this preset…",value:Z,onChange:e=>J(e.target.value)})]}),(0,t.jsxs)(l.Button,{className:"h-10 rounded-2xl",disabled:!ee,onClick:()=>{if(!ee)return;let e={medicine:$.trim(),dose:q.trim(),frequency:V,duration:X,timing:G||void 0,sig:Y.trim()?Y.trim():void 0,notes:Z.trim()?Z.trim():void 0};O(t=>null===_?[...t,e]:t.map((t,r)=>r===_?e:t)),ea()},children:[(0,t.jsx)(p.Plus,{className:"mr-2 h-4 w-4"}),null===_?"Add line":"Update line"]}),(0,t.jsx)("div",{className:"text-[11px] text-gray-500",children:"Required: medicine, dose, frequency, duration. Timing optional."})]})})]})})]}),(0,t.jsx)("div",{className:"h-10"})]})})}e.s(["default",()=>w],1508)}]);