(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23621,e=>{"use strict";var s=e.i(43476),t=e.i(91918),r=e.i(25913),a=e.i(52236);let i=(0,r.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:r,asChild:l=!1,...n}){let d=l?t.Slot:"span";return(0,s.jsx)(d,{"data-slot":"badge",className:(0,a.cn)(i({variant:r}),e),...n})}e.s(["Badge",()=>l])},31278,e=>{"use strict";let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},71689,e=>{"use strict";let s=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>s],71689)},74886,e=>{"use strict";let s=(0,e.i(75254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>s],74886)},86536,e=>{"use strict";let s=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>s],86536)},52076,e=>{"use strict";var s=e.i(43476),t=e.i(22016),r=e.i(71645),a=e.i(18566),i=e.i(71689),l=e.i(86536),n=e.i(75254);let d=(0,n.default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var c=e.i(12156),o=e.i(3116);let x=(0,n.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),m=(0,n.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var u=e.i(31278),p=e.i(74886),h=e.i(70317),y=e.i(23621),g=e.i(66691),f=e.i(50106),v=e.i(70931);function j(e){return"object"==typeof e&&null!==e}function N(e){return"string"==typeof e?e:null==e?"":String(e)}function b(e){let s=j(e)?e:{},t=s.medicineName??s.displayName??s.medicine??s.drug??s.name??s.title??"",r=s.dose??s.strength??s.amount??"",a=s.frequency??s.freq??"",i=s.duration??s.days??s.durationDays??"",l=s.route??"",n=s.notes??s.note??s.instructions??s.sig??"",d=[];t&&d.push(N(t).trim()),r&&d.push(N(r).trim()),a&&d.push(N(a).trim()),i&&d.push(`${N(i).trim()} days`),l&&d.push(N(l).trim());let c=d.filter(Boolean).join(" · ").trim(),o=N(n).trim();return c&&o?`${c} — ${o}`:c||o||"Prescription line"}function w(e){try{navigator.clipboard.writeText(e)}catch{}}function k(){let e=(0,a.useParams)(),n=(0,a.useRouter)(),k=(0,f.useAuth)(),C="authenticated"===k.status&&!!k.accessToken,B=e?.id,{data:P,isLoading:A,isFetching:M,error:I}=(0,v.useGetRxPresetByIdQuery)({id:String(B??"")},{skip:!C||!B}),L=(0,r.useMemo)(()=>(function(e){if("ADMIN"===e||"PUBLIC"===e||"PRIVATE"===e)return e})(j(P)?P.scope:void 0),[P]),$=(0,r.useMemo)(()=>{var e;return Array.isArray(e=j(P)?P.lines:void 0)?e:[]},[P]),T=(0,r.useMemo)(()=>{var e;return Array.isArray(e=j(P)?P.tags:void 0)?e.filter(e=>"string"==typeof e):[]},[P]),q=(0,r.useMemo)(()=>{let e=P?.name?`${P.name}
`:"",s=$.map((e,s)=>`${s+1}. ${b(e)}`).join("\n").trim();return`${e}${s}`.trim()},[P?.name,$]),z=(0,r.useMemo)(()=>{var e;let s=j(I)?I:void 0,t=(e=s?.data)&&"object"==typeof e&&"string"==typeof e.error?{error:e.error,message:"string"==typeof e.message?e.message:void 0,fieldErrors:e.fieldErrors&&"object"==typeof e.fieldErrors?e.fieldErrors:void 0,traceId:"string"==typeof e.traceId?e.traceId:void 0}:null;return t?.message??("string"==typeof t?.error?t.error:null)},[I]);return C?(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"mx-auto w-full max-w-4xl 2xl:px-6",children:[(0,s.jsxs)("div",{className:"mb-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(g.Button,{variant:"ghost",className:"h-9 rounded-2xl",onClick:()=>n.replace("/doctor/rx-presets"),children:[(0,s.jsx)(i.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[(0,s.jsx)(l.Eye,{className:"h-4 w-4 text-gray-500"}),(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:"View Preset"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(g.Button,{type:"button",variant:"outline",className:"h-9 rounded-2xl",onClick:()=>w(q),disabled:!q,title:"Copy preset lines",children:[(0,s.jsx)(p.Copy,{className:"mr-2 h-4 w-4"}),"Copy"]}),(0,s.jsx)(g.Button,{asChild:!0,className:"h-9 rounded-2xl",children:(0,s.jsx)(t.default,{href:"/doctor/rx-presets/new",children:"Create New"})})]})]}),(0,s.jsxs)(h.Card,{className:"rounded-3xl border bg-white p-0",children:[(0,s.jsx)("div",{className:"border-b px-6 py-5",children:(0,s.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsx)("div",{className:"truncate text-xl font-semibold text-gray-900",children:A||M?"Loading…":P?.name??"Rx Preset"}),"ADMIN"===L?(0,s.jsx)(y.Badge,{className:"rounded-full",children:"Admin"}):"PUBLIC"===L?(0,s.jsx)(y.Badge,{variant:"secondary",className:"rounded-full",children:"Public"}):(0,s.jsx)(y.Badge,{variant:"outline",className:"rounded-full",children:"Private"}),(A||M)&&(0,s.jsxs)(y.Badge,{variant:"secondary",className:"rounded-full",children:[(0,s.jsx)(u.Loader2,{className:"mr-1 h-3.5 w-3.5 animate-spin"}),"Fetching"]})]}),(0,s.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-gray-600",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,s.jsx)(x,{className:"h-3.5 w-3.5 text-gray-400"}),(0,s.jsx)("span",{className:"font-mono",children:String(B??"")})]}),(0,s.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,s.jsx)(c.Pill,{className:"h-3.5 w-3.5 text-gray-400"}),$.length," lines"]}),T.length>0?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1",children:[(0,s.jsx)(d,{className:"h-3.5 w-3.5 text-gray-400"}),T.join(", ")]}):null]})]}),(0,s.jsxs)("div",{className:"rounded-2xl bg-gray-50 px-4 py-3 text-xs text-gray-700",children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900",children:"Tip"}),(0,s.jsxs)("div",{className:"mt-1 text-gray-600",children:["Use ",(0,s.jsx)("span",{className:"font-semibold",children:"Copy"})," to quickly paste these lines into notes or chat."]})]})]})}),I?(0,s.jsx)("div",{className:"px-6 py-10",children:(0,s.jsxs)("div",{className:"flex items-start gap-3 rounded-2xl border border-red-200 bg-red-50 p-4",children:[(0,s.jsx)(m,{className:"mt-0.5 h-5 w-5 text-red-600"}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("div",{className:"text-sm font-semibold text-red-800",children:"Unable to load preset"}),(0,s.jsx)("div",{className:"mt-1 text-sm text-red-700",children:z??"Please check API logs / network tab."})]})]})}):A&&!P?(0,s.jsx)("div",{className:"px-6 py-10",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(u.Loader2,{className:"h-4 w-4 animate-spin"}),"Loading preset…"]})}):0===$.length?(0,s.jsx)("div",{className:"px-6 py-10 text-center text-sm text-gray-600",children:"This preset has no lines."}):(0,s.jsxs)("div",{className:"px-6 py-6",children:[(0,s.jsx)("div",{className:"grid gap-3",children:$.map((e,t)=>{let r=b(e),a=j(e)?e:{},i=a.medicineName??a.displayName??a.medicine??a.drug??a.name??"",l=a.frequency??a.freq??"",n=a.duration??a.days??a.durationDays??"";return(0,s.jsxs)("div",{className:"group relative overflow-hidden rounded-3xl border bg-white p-4 shadow-sm",children:[(0,s.jsx)("div",{className:"absolute left-0 top-0 h-full w-1 bg-gray-900/10"}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 md:flex-row md:items-start md:justify-between",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(y.Badge,{variant:"secondary",className:"rounded-full",children:["#",t+1]}),N(i).trim()?(0,s.jsx)("div",{className:"truncate text-base font-semibold text-gray-900",children:N(i)}):(0,s.jsx)("div",{className:"truncate text-base font-semibold text-gray-900",children:"Prescription Line"})]}),(0,s.jsx)("div",{className:"mt-2 text-sm text-gray-700",children:r}),(0,s.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-2 text-[11px] text-gray-600",children:[N(l).trim()?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-50 px-2 py-1",children:[(0,s.jsx)(o.Clock,{className:"h-3.5 w-3.5 text-gray-400"}),N(l)]}):null,N(n).trim()?(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-gray-50 px-2 py-1",children:[(0,s.jsx)(o.Clock,{className:"h-3.5 w-3.5 text-gray-400"}),N(n)," days"]}):null]})]}),(0,s.jsx)("div",{className:"flex shrink-0 items-center gap-2",children:(0,s.jsxs)(g.Button,{type:"button",variant:"outline",className:"h-9 rounded-2xl opacity-100 md:opacity-0 md:group-hover:opacity-100",onClick:()=>w(`${t+1}. ${r}`),title:"Copy this line",children:[(0,s.jsx)(p.Copy,{className:"mr-2 h-4 w-4"}),"Copy line"]})})]})]},t)})}),(0,s.jsxs)("div",{className:"mt-6 flex flex-col gap-2 rounded-3xl bg-gray-50 p-5 text-xs text-gray-700 md:flex-row md:items-center md:justify-between",children:[(0,s.jsx)("div",{className:"text-gray-600",children:"Want to use this preset as a starting point?"}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,s.jsxs)(g.Button,{variant:"outline",className:"h-9 rounded-2xl",onClick:()=>w(q),children:[(0,s.jsx)(p.Copy,{className:"mr-2 h-4 w-4"}),"Copy all"]}),(0,s.jsx)(g.Button,{asChild:!0,className:"h-9 rounded-2xl",children:(0,s.jsx)(t.default,{href:"/doctor/rx-presets/new",children:"Create your own"})})]})]})]})]})]})}):(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(h.Card,{className:"rounded-3xl border bg-white p-6 text-sm text-gray-700",children:"Please log in to view this preset."})})}e.s(["default",()=>k],52076)}]);