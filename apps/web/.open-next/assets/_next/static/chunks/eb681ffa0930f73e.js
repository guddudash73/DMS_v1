(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23621,e=>{"use strict";var t=e.i(43476),s=e.i(91918),a=e.i(25913),r=e.i(52236);let n=(0,a.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:a,asChild:l=!1,...i}){let d=l?s.Slot:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,r.cn)(n({variant:a}),e),...i})}e.s(["Badge",()=>l])},72520,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],72520)},46349,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["default",()=>t])},34164,29978,33565,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(9797);let r=(0,e.i(75254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeftIcon",()=>r],29978);var n=e.i(46349);e.s(["ChevronRightIcon",()=>n.default],33565);var n=n,l=e.i(97791),i=e.i(75760),d=e.i(52236),o=e.i(66691);function c({className:e,classNames:s,showOutsideDays:c=!0,captionLayout:m="label",buttonVariant:u="ghost",formatters:p,components:h,...g}){let f=(0,i.getDefaultClassNames)();return(0,t.jsx)(l.DayPicker,{showOutsideDays:c,className:(0,d.cn)("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:m,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...p},classNames:{root:(0,d.cn)("w-fit",f.root),months:(0,d.cn)("flex gap-4 flex-col md:flex-row relative",f.months),month:(0,d.cn)("flex flex-col w-full gap-4",f.month),nav:(0,d.cn)("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",f.nav),button_previous:(0,d.cn)((0,o.buttonVariants)({variant:u}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_previous),button_next:(0,d.cn)((0,o.buttonVariants)({variant:u}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",f.button_next),month_caption:(0,d.cn)("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",f.month_caption),dropdowns:(0,d.cn)("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",f.dropdowns),dropdown_root:(0,d.cn)("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",f.dropdown_root),dropdown:(0,d.cn)("absolute bg-popover inset-0 opacity-0",f.dropdown),caption_label:(0,d.cn)("select-none font-medium","label"===m?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",f.caption_label),table:"w-full border-collapse",weekdays:(0,d.cn)("flex",f.weekdays),weekday:(0,d.cn)("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",f.weekday),week:(0,d.cn)("flex w-full mt-2",f.week),week_number_header:(0,d.cn)("select-none w-(--cell-size)",f.week_number_header),week_number:(0,d.cn)("text-[0.8rem] select-none text-muted-foreground",f.week_number),day:(0,d.cn)("relative w-full h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",g.showWeekNumber?"[&:nth-child(2)[data-selected=true]_button]:rounded-l-md":"[&:first-child[data-selected=true]_button]:rounded-l-md",f.day),range_start:(0,d.cn)("rounded-l-md bg-accent",f.range_start),range_middle:(0,d.cn)("rounded-none",f.range_middle),range_end:(0,d.cn)("rounded-r-md bg-accent",f.range_end),today:(0,d.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",f.today),outside:(0,d.cn)("text-muted-foreground aria-selected:text-muted-foreground",f.outside),disabled:(0,d.cn)("text-muted-foreground opacity-50",f.disabled),hidden:(0,d.cn)("invisible",f.hidden),...s},components:{Root:({className:e,rootRef:s,...a})=>(0,t.jsx)("div",{"data-slot":"calendar",ref:s,className:(0,d.cn)(e),...a}),Chevron:({className:e,orientation:s,...l})=>"left"===s?(0,t.jsx)(r,{className:(0,d.cn)("size-4",e),...l}):"right"===s?(0,t.jsx)(n.default,{className:(0,d.cn)("size-4",e),...l}):(0,t.jsx)(a.ChevronDownIcon,{className:(0,d.cn)("size-4",e),...l}),DayButton:x,WeekNumber:({children:e,...s})=>(0,t.jsx)("td",{...s,children:(0,t.jsx)("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:e})}),...h},...g})}function x({className:e,day:a,modifiers:r,...n}){let l=(0,i.getDefaultClassNames)(),c=s.useRef(null);return s.useEffect(()=>{r.focused&&c.current?.focus()},[r.focused]),(0,t.jsx)(o.Button,{ref:c,variant:"ghost",size:"icon","data-day":a.date.toLocaleDateString(),"data-selected-single":r.selected&&!r.range_start&&!r.range_end&&!r.range_middle,"data-range-start":r.range_start,"data-range-end":r.range_end,"data-range-middle":r.range_middle,className:(0,d.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",l.day,e),...n})}e.s(["Calendar",()=>c,"CalendarDayButton",()=>x],34164)},7064,e=>{"use strict";var t=e.i(43476),s=e.i(52236);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",e),...a})})}function r({className:e,...a}){return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",e),...a})}function n({className:e,...a}){return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",e),...a})}function l({className:e,...a}){return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...a})}function i({className:e,...a}){return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}function d({className:e,...a}){return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a})}e.s(["Table",()=>a,"TableBody",()=>n,"TableCell",()=>d,"TableHead",()=>i,"TableHeader",()=>r,"TableRow",()=>l])},57154,e=>{"use strict";var t=e.i(43476);let s=["UL","UR","LL","LR"];function a({toothDetails:e,className:a}){let r=(e??[]).map(e=>({...e,toothNumbers:(e.toothNumbers??[]).map(e=>String(e).trim()).filter(Boolean),notes:e.notes?.trim()||void 0})),n=r.some(e=>(e.toothNumbers?.length??0)>0),l=r.some(e=>!!e.notes);if(!n&&!l)return null;let i=function(e){let t=new Map;for(let e of s)t.set(e,[]);for(let s of e){let e=function(e){let t=String(e??"").trim().toUpperCase();return"UL"===t||"UR"===t||"LL"===t||"LR"===t?t:null}(s.position);if(!e)continue;let a=t.get(e)??[];a.push(...(s.toothNumbers??[]).map(e=>String(e).trim()).filter(Boolean)),t.set(e,a)}for(let e of s){let s=Array.from(new Set(t.get(e)??[]));s.sort((e,t)=>e.localeCompare(t)),t.set(e,s)}return t}(r),d=Array.from(new Set(r.map(e=>e.notes).filter(Boolean))),o=1===d.length?d[0]:null;return(0,t.jsxs)("div",{className:["flex items-start gap-3",a??""].join(" "),children:[(0,t.jsx)("div",{className:"relative shrink-0",children:(0,t.jsxs)("div",{className:"grid h-11 w-20.5 grid-cols-2 rounded-md bg-white overflow-hidden",children:[(0,t.jsx)("div",{className:"flex items-center justify-center border-b border-r border-gray-700 px-1",children:(0,t.jsx)("div",{className:"line-clamp-1 text-[12px] font-semibold text-gray-900",children:(i.get("UL")??[]).join(", ")||"—"})}),(0,t.jsx)("div",{className:"flex items-center justify-center border-b border-gray-700 px-1",children:(0,t.jsx)("div",{className:"line-clamp-1 text-[12px] font-semibold text-gray-900",children:(i.get("UR")??[]).join(", ")||"—"})}),(0,t.jsx)("div",{className:"flex items-center justify-center border-r border-gray-700 px-1",children:(0,t.jsx)("div",{className:"line-clamp-1 text-[12px] font-semibold text-gray-900",children:(i.get("LL")??[]).join(", ")||"—"})}),(0,t.jsx)("div",{className:"flex items-center justify-center px-1",children:(0,t.jsx)("div",{className:"line-clamp-1 text-[12px] font-semibold text-gray-900",children:(i.get("LR")??[]).join(", ")||"—"})})]})}),(0,t.jsx)("div",{className:"min-w-0 flex-1",children:o?(0,t.jsx)("div",{className:"truncate text-[12px] font-semibold text-gray-900",children:o}):d.length?(0,t.jsx)("div",{className:"space-y-1",children:d.map((e,s)=>(0,t.jsx)("div",{className:"truncate text-[12px] font-semibold text-gray-900",children:e},s))}):(0,t.jsx)("div",{className:"text-[12px] text-gray-500",children:"—"})})]})}e.s(["ToothDetailsBlock",()=>a])},46762,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(74080),r=e.i(57688),n=e.i(70931),l=e.i(32595),i=e.i(57154);let d={QD:"Once Daily",BID:"Twice Daily",TID:"Thrice Daily",QID:"Four Times Daily",HS:"At Bedtime",PRN:"As Needed"},o={BEFORE_MEAL:"before food",AFTER_MEAL:"after food",ANY:""};function c(e){let t=[],s=[e.medicine,e.dose].filter(Boolean).join(" ").trim();s&&t.push(s);let a=[e.frequency?`${e.frequency}(${d[e.frequency]})`:"",e.timing?o[e.timing]:""].filter(Boolean).join(" ").trim();return a&&t.push(`- ${a}`),"number"==typeof e.duration&&e.duration>0&&t.push(`For ${e.duration} days.`),e.notes?.trim()&&t.push(e.notes.trim()),t.join(" ")}function x(e,t){if("object"==typeof e&&null!==e)return e[t]}function m(e,t){let s=x(e,t);if(null!=s){if("string"==typeof s)return s;if("number"==typeof s||"boolean"==typeof s)return String(s)}}function u(e){if(!e)return;let t=function(e,t){for(let s of t){let t=x(e,s);if(void 0!==t)return t}}(e,["opdNo","opdNumber","opdId","opd","opd_no","opd_no_str"]);if(null!=t)return String(t).trim()||void 0}function p(e){let{visitId:s,isCurrent:a,currentLines:r,visit:d,showOpdInline:o,opdInlineText:x,currentToothDetails:u}=e,p=(0,n.useGetVisitRxQuery)({visitId:s},{skip:a||!s}),h=a?r:p.data?.rx?.lines??[],g=a?u:p.data?.rx?.toothDetails??[],f=m(d,"visitDate"),b=m(d,"reason"),j=(g?.length??0)>0;return h.length||b||f||j?(0,t.jsxs)("div",{className:`rx-block ${a?"rx-block-current":"rx-block-prev"}`,children:[(0,t.jsxs)("div",{className:"rx-block-meta mb-2 flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"text-[12px] font-bold text-gray-900",children:f?(0,l.formatClinicDateShort)(f):"—"}),(0,t.jsxs)("div",{className:"ml-4 flex min-w-0 flex-1 items-baseline justify-end gap-3",children:[(0,t.jsx)("div",{className:"min-w-0 flex-1 truncate text-right text-[11px] font-medium text-gray-700",children:b?.trim()?b.trim():""}),o&&x?(0,t.jsx)("div",{className:"shrink-0 text-right text-[11px] font-semibold text-gray-900",children:x}):null]})]}),j?(0,t.jsx)("div",{className:"mb-2",children:(0,t.jsx)(i.ToothDetailsBlock,{toothDetails:g})}):null,h.length?(0,t.jsx)("ol",{className:"space-y-1 text-[13px] leading-5 text-gray-900",children:h.map((e,s)=>(0,t.jsxs)("li",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"w-5 shrink-0 text-right font-medium",children:[s+1,"."]}),(0,t.jsx)("div",{className:"font-medium",children:c(e)})]},s))}):(0,t.jsx)("div",{className:"text-[12px] text-gray-500",children:"No medicines recorded."}),(0,t.jsx)("div",{className:"rx-block-sep mt-3 h-px w-full bg-gray-200"})]}):(0,t.jsx)("div",{className:"h-2 rx-block rx-block-prev"})}function h(e){let n,l,{patientName:d,patientPhone:o,patientAge:x,patientSex:m,sdId:h,opdNo:g,visitDateLabel:f,lines:b,receptionNotes:j,currentVisitId:y,chainVisitIds:v,visitMetaMap:N,toothDetails:w}=e,[k,C]=(0,s.useState)(!1);(0,s.useEffect)(()=>C(!0),[]);let D=!!j?.trim(),T=(n="number"==typeof x?Number.isFinite(x)&&x>0?String(x):"":(x??"").toString().trim(),l=(m??"").toString().trim().toUpperCase(),n||l?n&&l?`${n}/${l}`:n||l||"—":"—"),S=(0,s.useMemo)(()=>y??"CURRENT",[y]),L=(0,s.useMemo)(()=>v&&v.length?v:[S],[v,S]),A=(0,s.useMemo)(()=>N??new Map,[N]),R=!!y&&!!v&&v.length>0&&!!N,P=(0,s.useMemo)(()=>{if(R)return L[0]},[R,L]),B=(0,s.useMemo)(()=>{if(R&&P){let e=u(A.get(P));if(e)return e}return g??"—"},[R,P,A,g]),E=(0,s.useMemo)(()=>w??[],[w]),I=!R&&E.length>0;return k?(0,a.createPortal)((0,t.jsxs)("div",{className:"rx-print-root",children:[(0,t.jsx)("style",{children:`
        .rx-print-root { display: none; }

        @media print {
          body.print-rx > *:not(.rx-print-root) { display: none !important; }
          body.print-rx .rx-print-root { display: block !important; }

          @page { size: A4; margin: 0; }

          html, body {
            margin: 0 !important;
            padding: 0 !important;
            background: #fff !important;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }

          .rx-a4 {
            width: 210mm;
            height: 297mm;
            margin: 0 auto;
            padding: 8mm;
            box-sizing: border-box;
            background: white;
          }

          body.print-rx.print-rx-current-only .rx-print-header,
          body.print-rx.print-rx-current-only .rx-print-doctor,
          body.print-rx.print-rx-current-only .rx-print-patient,
          body.print-rx.print-rx-current-only .rx-print-sep-top,
          body.print-rx.print-rx-current-only .rx-print-sep-mid {
            visibility: hidden !important;
          }

          body.print-rx.print-rx-current-only .rx-print-notes {
            display: none !important;
          }

          body.print-rx.print-rx-current-only .rx-block-prev {
            visibility: hidden !important;
          }
        }
      `}),(0,t.jsx)("div",{className:"rx-a4 text-black",children:(0,t.jsxs)("div",{className:"flex h-full flex-col",children:[(0,t.jsx)("div",{className:"rx-print-header shrink-0 px-10",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsx)("div",{className:"relative h-20 w-20",children:(0,t.jsx)(r.default,{src:"/rx-logo-r.png",alt:"Rx Logo",fill:!0,className:"object-contain",priority:!0,unoptimized:!0})}),(0,t.jsxs)("div",{className:"mt-2 flex w-full flex-col items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"text-[12px] font-semibold tracking-[0.25em] text-emerald-600",children:"CONTACT"}),(0,t.jsx)("div",{className:"mt-1 text-[14px] font-semibold text-gray-900",children:"9938942846"}),(0,t.jsx)("div",{className:"mt-1 max-w-[120mm] text-[9px] font-medium leading-4 text-gray-800",children:"A-33, STALWART COMPLEX, UNIT - IV, BHUBANESWAR"}),(0,t.jsx)("div",{className:"max-w-[120mm] text-[9px] font-medium leading-4 text-red-400 uppercase",children:"Clinic hours: 10 : 00 AM - 01 : 30 PM & 06 : 00 PM - 08:00 PM, Sunday Closed"})]}),(0,t.jsx)("div",{className:"relative h-18 w-42",children:(0,t.jsx)(r.default,{src:"/dashboard-logo.png",alt:"Sarangi Dentistry",fill:!0,className:"object-contain",priority:!0,unoptimized:!0})})]})}),(0,t.jsx)("div",{className:"rx-print-sep-top mt-2 h-px w-full bg-emerald-600/60"}),(0,t.jsx)("div",{className:"rx-print-doctor shrink-0 px-4 pt-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"text-[12px] font-bold text-gray-900",children:"Dr. Soumendra Sarangi"}),(0,t.jsx)("div",{className:"mt-0.5 text-[11px] font-light text-gray-700",children:"B.D.S. Regd. - 68"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end text-right",children:[(0,t.jsx)("div",{className:"text-[12px] font-bold text-gray-900",children:"Dr. Vaishnovee Sarangi"}),(0,t.jsx)("div",{className:"mt-0.5 text-[11px] font-light text-gray-700",children:"B.D.S. Redg. - 3057"})]})]})}),(0,t.jsx)("div",{className:"rx-print-patient shrink-0 px-4 pt-2",children:(0,t.jsxs)("div",{className:"mt-1 flex w-full justify-between gap-6",children:[(0,t.jsxs)("div",{className:"space-y-1 text-[11px] text-gray-800",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-28 text-gray-600",children:"Patient Name"}),(0,t.jsx)("div",{className:"text-gray-600",children:":"}),(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:d??"—"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-28 text-gray-600",children:"Contact No."}),(0,t.jsx)("div",{className:"text-gray-600",children:":"}),(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:o??"—"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-28 text-gray-600",children:"Age/Sex"}),(0,t.jsx)("div",{className:"text-gray-600",children:":"}),(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:T})]})]}),(0,t.jsxs)("div",{className:"space-y-1 text-[11px] text-gray-800",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-28 text-gray-600",children:"Regd. Date"}),(0,t.jsx)("div",{className:"text-gray-600",children:":"}),(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:f?.replace("Visit:","").trim()||"—"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-28 text-gray-600",children:"SD. ID"}),(0,t.jsx)("div",{className:"text-gray-600",children:":"}),(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:h??"—"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-28 text-gray-600",children:"OPD. No"}),(0,t.jsx)("div",{className:"text-gray-600",children:":"}),(0,t.jsx)("div",{className:"font-semibold text-gray-900",children:B})]})]})]})}),(0,t.jsx)("div",{className:"rx-print-sep-mid mt-3 h-px w-full bg-gray-900/30"}),(0,t.jsx)("div",{className:"rx-print-medicines min-h-0 flex-1 pt-4",children:R?(0,t.jsx)("div",{className:"space-y-4",children:L.map(e=>{let s=A.get(e),a=null!=P&&e===P,r=a?void 0:u(s);return(0,t.jsx)(p,{visitId:"CURRENT"===e?"":e,isCurrent:e===S,currentLines:b,visit:s,showOpdInline:!a,opdInlineText:r,currentToothDetails:E},e)})}):(0,t.jsxs)("div",{className:"px-4",children:[I?(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)(i.ToothDetailsBlock,{toothDetails:E}),(0,t.jsx)("div",{className:"mt-3 h-px w-full bg-gray-200"})]}):null,b.length?(0,t.jsx)("ol",{className:"space-y-1 text-[13px] leading-5 text-gray-900",children:b.map((e,s)=>(0,t.jsxs)("li",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"w-5 shrink-0 text-right font-medium",children:[s+1,"."]}),(0,t.jsx)("div",{className:"font-medium",children:c(e)})]},s))}):(0,t.jsx)("div",{className:"text-[12px] text-gray-500",children:"No medicines recorded."}),(0,t.jsx)("div",{className:"mt-3 h-px w-full bg-gray-200"})]})}),D?(0,t.jsx)("div",{className:"rx-print-notes shrink-0 pb-2",children:(0,t.jsxs)("div",{className:"mt-3 rounded-xl border border-gray-200 bg-gray-50 px-3 py-2",children:[(0,t.jsx)("div",{className:"text-[11px] font-semibold text-gray-700",children:"Reception Notes"}),(0,t.jsx)("div",{className:"mt-1 whitespace-pre-wrap text-[12px] leading-5 text-gray-900",children:j})]})}):null]})})]}),document.body):null}e.s(["PrescriptionPrintSheet",()=>h])},30837,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(70931),n=e.i(66691),l=e.i(70317),i=e.i(23621),d=e.i(15270),o=e.i(7064),c=e.i(69262),x=e.i(34164),m=e.i(72520),u=e.i(87316),p=e.i(32595),h=e.i(46762),g=e.i(53145),f=e.i(81307),b=e.i(94814),j=e.i(1851),y=e.i(70319),v=e.i(24911),N=e.i(25466),w=e.i(6662),k=e.i(49068);let C=f.z.object({name:f.z.string().trim().min(1),phone:f.z.string().trim().min(6),dob:f.z.string().optional(),gender:f.z.enum(["MALE","FEMALE","OTHER","UNKNOWN"]).optional(),address:f.z.string().optional()}),D=e=>"object"==typeof e&&null!==e;function T({patient:e,onClose:a}){let[i,{isLoading:d}]=(0,r.useUpdatePatientMutation)(),[o,x]=s.useState(!1),[m,p]=s.useState(!1),{register:h,handleSubmit:f,setValue:T,watch:S,formState:{isSubmitting:L}}=(0,g.useForm)({resolver:(0,b.zodResolver)(C),defaultValues:{name:e.name,phone:e.phone,dob:e.dob,gender:e.gender,address:e.address??""}}),A=S("dob"),R=A?new Date(A):void 0,P=()=>{m||(p(!0),setTimeout(a,180))},B=async t=>{let s={name:t.name.trim(),phone:t.phone.trim(),dob:t.dob||void 0,gender:t.gender,address:t.address?.trim()||void 0};try{await i({patientId:e.patientId,patch:s}).unwrap(),y.toast.success("Patient details updated"),P()}catch(t){let e=D(t)&&"data"in t&&D(t.data)&&"string"==typeof t.data.message?String(t.data.message):"Failed to update patient";y.toast.error(e)}};return(0,t.jsx)("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/10 backdrop-blur-sm",onMouseDown:e=>e.target===e.currentTarget&&P(),children:(0,t.jsxs)(l.Card,{className:"w-full max-w-xl rounded-2xl border-none shadow-lg",children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)(l.CardTitle,{children:"Edit Patient"})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsxs)("form",{onSubmit:f(B),className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N.Label,{children:"Name"}),(0,t.jsx)(v.Input,{...h("name"),className:"rounded-xl"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N.Label,{children:"Contact No."}),(0,t.jsx)(v.Input,{...h("phone"),className:"rounded-xl"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(N.Label,{children:"Gender"}),(0,t.jsxs)("select",{...h("gender"),className:"h-10 w-full rounded-xl border px-3",children:[(0,t.jsx)("option",{value:"",children:"—"}),(0,t.jsx)("option",{value:"MALE",children:"Male"}),(0,t.jsx)("option",{value:"FEMALE",children:"Female"}),(0,t.jsx)("option",{value:"OTHER",children:"Other"}),(0,t.jsx)("option",{value:"UNKNOWN",children:"Unknown"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N.Label,{children:"DOB"}),(0,t.jsxs)(c.Popover,{open:o,onOpenChange:x,children:[(0,t.jsx)(c.PopoverTrigger,{asChild:!0,children:(0,t.jsx)(n.Button,{variant:"outline",className:"w-full justify-between rounded-xl",children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Calendar,{className:"h-4 w-4"}),R?(0,j.format)(R,"dd/MM/yyyy"):"Pick date"]})})}),(0,t.jsx)(c.PopoverContent,{className:"p-0 bg-transparent border-none",children:(0,t.jsx)(k.default,{value:R,onChange:e=>{e&&(T("dob",e.toISOString().slice(0,10),{shouldDirty:!0}),x(!1))},disabled:e=>e>new Date})})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(N.Label,{children:"Address"}),(0,t.jsx)(w.Textarea,{...h("address"),className:"rounded-xl"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-2",children:[(0,t.jsx)(n.Button,{type:"button",variant:"ghost",onClick:P,children:"Cancel"}),(0,t.jsx)(n.Button,{type:"submit",disabled:L||d,children:"Save changes"})]})]})})]})})}let S=e=>e&&"object"==typeof e&&"string"==typeof e.error?{error:e.error,message:"string"==typeof e.message?e.message:void 0,fieldErrors:e.fieldErrors&&"object"==typeof e.fieldErrors?e.fieldErrors:void 0,traceId:"string"==typeof e.traceId?e.traceId:void 0}:null,L=e=>(0,p.formatClinicDateShort)(e);function A(e){let{page:s,totalPages:a,onPageChange:r}=e,l=s>1,i=s<a;return(0,t.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(n.Button,{type:"button",variant:"outline",className:"h-9 rounded-xl px-3 text-xs",disabled:!l,onClick:()=>r(s-1),children:"Previous"}),(0,t.jsxs)("div",{className:"px-2 text-xs text-gray-600",children:["Page ",(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:s})," of"," ",(0,t.jsx)("span",{className:"font-semibold text-gray-900",children:a})]}),(0,t.jsx)(n.Button,{type:"button",variant:"outline",className:"h-9 rounded-xl px-3 text-xs",disabled:!i,onClick:()=>r(s+1),children:"Next"})]})}function R(e){return"QUEUED"===e?"Waiting":"IN_PROGRESS"===e?"In Progress":"DONE"===e?"Done":"—"}function P(e){return"QUEUED"===e?"bg-pink-100 text-pink-700 border-pink-200":"IN_PROGRESS"===e?"bg-yellow-100 text-yellow-800 border-yellow-200":"DONE"===e?"bg-green-100 text-green-700 border-green-200":"bg-gray-100 text-gray-700 border-gray-200"}function B(e){return"object"==typeof e&&null!==e}function E(e){let t=B(e)?e:{},s=t.anchorVisitId,a=t.anchorId;return"string"==typeof s&&s||"string"==typeof a&&a||void 0}function I(e){return!!(B(e)?e:{}).zeroBilled}function M(e){return"NEW"===e?"bg-sky-100 text-sky-700 border-sky-200":"bg-violet-100 text-violet-700 border-violet-200"}function O(){return"bg-rose-100 text-rose-700 border-rose-200"}function _(e){return!!B(e)&&!0===e.isAvoided}function U(){var e;let g,f,b=(0,a.useParams)(),j=b?.id,y=(0,a.useRouter)(),[v,N]=s.useState(!1),[w,k]=s.useState(!1);s.useEffect(()=>k(!0),[]);let[C,D]=s.useState(!1);if(!j||"string"!=typeof j)return(0,t.jsx)("section",{className:"p-6",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:"Invalid patient id in URL."})});let{data:B,isLoading:U,error:z}=(0,r.useGetPatientByIdQuery)(j),{data:F,isLoading:$,error:V}=(0,r.useGetPatientVisitsQuery)(j),{data:W}=(0,r.useGetPatientSummaryQuery)(j);(0,r.useGetDoctorsQuery)();let G=(0,r.useGetMeQuery)().data??null,[H,Q]=s.useState(""),q=s.useMemo(()=>{if(!H||!/^\d{4}-\d{2}-\d{2}$/.test(H))return;let[e,t,s]=H.split("-").map(Number),a=new Date(e,t-1,s,0,0,0,0);return Number.isNaN(a.getTime())?void 0:a},[H]),[K,Y]=s.useState(!1),Z=s.useMemo(()=>{if(!z)return null;let e=S(z.data);return e?.message??"Unable to load patient."},[z]),X=s.useMemo(()=>{if(!V)return null;let e=S(V.data);return e?.message??"Unable to load visits."},[V]),J=F?.items??[],ee=s.useMemo(()=>{let e=[...J];return e.sort((e,t)=>(t.updatedAt??t.createdAt??0)-(e.updatedAt??e.createdAt??0)),e},[J]),et=s.useMemo(()=>H?ee.filter(e=>e.visitDate===H):ee,[ee,H]),es=s.useMemo(()=>{let e=new Map;for(let t of ee)e.set(t.visitId,t);return e},[ee]),ea=s.useMemo(()=>{let e=new Map,t=[];for(let t of et)E(t)||e.set(t.visitId,{anchor:t,followups:[]});for(let s of et){let a=E(s);if(!a)continue;let r=e.get(a);r?r.followups.push(s):t.push(s)}for(let t of e.values())t.followups.sort((e,t)=>(e.createdAt??0)-(t.createdAt??0));return{anchorsOrdered:Array.from(e.values()).sort((e,t)=>(t.anchor.updatedAt??t.anchor.createdAt??0)-(e.anchor.updatedAt??e.anchor.createdAt??0)),orphanGroups:t.sort((e,t)=>(t.updatedAt??t.createdAt??0)-(e.updatedAt??e.createdAt??0)).map(e=>({followup:e}))}},[et,es]),er=W?.nextFollowUpDate??"No Follow Up Scheduled",en=function(e){if(!e)return null;let t=e.trim(),s=/^(\d{4})-(\d{2})-(\d{2})$/.exec(t);if(!s)return null;let a=new Date(Number(s[1]),Number(s[2])-1,Number(s[3]));return Number.isNaN(a.getTime())?null:a}(B?.dob),el=en?(g=(e=new Date).getFullYear()-en.getFullYear(),((f=e.getMonth()-en.getMonth())<0||0===f&&e.getDate()<en.getDate())&&(g-=1),g<0?0:g):void 0,ei=function(e){if(!e)return;let t=String(e).trim().toUpperCase();return"MALE"===t||"M"===t?"M":"FEMALE"===t||"F"===t?"F":"OTHER"===t||"O"===t?"O":"UNKNOWN"===t||"U"===t?"U":void 0}(B?.gender),ed=G?.doctorProfile?.fullName?.trim()?G.doctorProfile.fullName.trim():void 0,eo=G?.doctorProfile?.registrationNumber?`B.D.S Regd. - ${G.doctorProfile.registrationNumber}`:void 0,ec=`Visit: ${(0,p.clinicDateISO)()}`,[ex,em]=s.useState(1);s.useEffect(()=>{em(1)},[H,F?.items]);let eu=Math.max(1,Math.ceil(ea.anchorsOrdered.length/4)),ep=Math.min(ex,eu),eh=s.useMemo(()=>{let e=(ep-1)*4;return ea.anchorsOrdered.slice(e,e+4)},[ea.anchorsOrdered,ep]),eg=(e,s)=>{let a,r,n,l=s.anchor,i=0;if("NEW"===s.kind){let t=e.visitId;for(let e of ee)E(e)===t&&(i+=1)}let d="FOLLOWUP"===s.kind?(a=l??(E(e)?es.get(E(e)):void 0),r=(a?.reason||"—").toString(),n=a?.visitDate?L(a.visitDate):"—",`Follow-up of: ${r} • ${n}`):null;return(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"truncate text-sm font-semibold text-gray-900",children:e.reason?.trim()?e.reason:"—"}),(0,t.jsx)("div",{className:"mt-0.5 text-[11px] text-gray-500",children:"NEW"===s.kind?(0,t.jsx)("span",{className:"inline-flex items-center gap-2",children:(0,t.jsxs)("span",{className:"rounded-md bg-gray-50 px-2 py-0.5 text-gray-600 shadow-[0_0_0_1px_rgba(0,0,0,0.04)]",children:[i," follow-up",1===i?"":"s"]})}):(0,t.jsx)("span",{className:"truncate",children:d})})]})},ef=eh.length>0||ea.orphanGroups.length>0,[eb,{isLoading:ej}]=(0,r.useAvoidPatientMutation)(),[ey,{isLoading:ev}]=(0,r.useUnavoidPatientMutation)(),eN=_(B);return(0,t.jsxs)("section",{className:"h-full px-3 py-4 md:px-6 md:py-6 2xl:px-10 2xl:py-10 w-full",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)("div",{className:"flex flex-row items-center justify-end gap-6",children:(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"font-medium text-gray-700",children:"Follow up: "}),(0,t.jsx)("span",{className:["font-semibold",W?.nextFollowUpDate?"text-green-600":"text-red-500"].join(" "),children:er})]})}),(0,t.jsxs)(l.Card,{className:"rounded-2xl border-none bg-white px-8 py-6 shadow-sm w-full",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("h2",{className:"mb-4 text-lg font-semibold text-gray-900",children:"Patient Details:"}),B&&eN?(0,t.jsx)("div",{className:"mb-3 inline-flex items-center rounded-full border border-red-200 bg-red-50 px-3 text-xs font-semibold text-red-700",children:"AVOID PATIENT"}):null]}),U&&(0,t.jsxs)("div",{className:"space-y-2 text-sm text-gray-600","aria-busy":"true",children:[(0,t.jsx)("div",{className:"h-4 w-40 animate-pulse rounded bg-gray-100"}),(0,t.jsx)("div",{className:"h-4 w-32 animate-pulse rounded bg-gray-100"}),(0,t.jsx)("div",{className:"h-4 w-24 animate-pulse rounded bg-gray-100"})]}),!U&&Z&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:Z}),!U&&!Z&&B&&(0,t.jsxs)("div",{className:"grid gap-4 text-sm text-gray-800 md:grid-cols-2",children:[(0,t.jsxs)("dl",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("dt",{className:"w-28 shrink-0 text-gray-600",children:"Name"}),(0,t.jsxs)("dd",{className:"text-gray-900",children:[": ",B.name]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("dt",{className:"w-28 shrink-0 text-gray-600",children:"DOB/Sex"}),(0,t.jsxs)("dd",{className:"text-gray-900",children:[": ",B.dob??"—"," / ",B.gender??"—"]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("dt",{className:"w-28 shrink-0 text-gray-600",children:"Contact No."}),(0,t.jsxs)("dd",{className:"text-gray-900",children:[": ",B.phone??"—"]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("dt",{className:"w-28 shrink-0 text-gray-600",children:"Address"}),(0,t.jsxs)("dd",{className:"whitespace-pre-line text-gray-900",children:[": ",B.address??"—"]})]})]}),(0,t.jsxs)("dl",{className:"space-y-2 md:justify-self-end",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("dt",{className:"w-32 shrink-0 text-gray-600",children:"Regd. Date"}),(0,t.jsxs)("dd",{className:"text-gray-900",children:[":"," ",B.createdAt?new Date(B.createdAt).toLocaleDateString("en-GB"):"—"]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("dt",{className:"w-32 shrink-0 text-gray-600",children:"SD-ID"}),(0,t.jsxs)("dd",{className:"text-gray-900",children:[": ",B.sdId]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("dt",{className:"w-32 shrink-0 text-gray-600",children:"Visits count"}),(0,t.jsxs)("dd",{className:"text-gray-900",children:[": ",W?.doneVisitCount??0]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("dt",{className:"w-32 shrink-0 text-gray-600",children:"Last Visit"}),(0,t.jsxs)("dd",{className:"text-gray-900",children:[": ",W?.lastVisitDate??"—"]})]})]})]}),(0,t.jsxs)("div",{className:"mt-5 flex justify-end gap-2",children:[(0,t.jsx)(n.Button,{type:"button",variant:"outline",className:"rounded-2xl cursor-pointer",disabled:!B||ej||ev,onClick:async()=>{if(B)try{_(B)?await ey({patientId:j}).unwrap():await eb({patientId:j}).unwrap()}catch(e){console.error(e)}},children:_(B)?"Un-avoid":"Avoid"}),(0,t.jsx)(n.Button,{type:"button",variant:"outline",className:"rounded-2xl cursor-pointer",onClick:()=>D(!0),disabled:!B,children:"Edit details"}),C&&B?(0,t.jsx)(T,{patient:B,onClose:()=>D(!1)}):null,(0,t.jsx)(n.Button,{type:"button",variant:"outline",className:"rounded-2xl cursor-pointer",onClick:()=>{if(!B)return;let e=()=>{document.body.classList.remove("print-rx"),window.removeEventListener("afterprint",e)};window.addEventListener("afterprint",e),document.body.classList.add("print-rx"),requestAnimationFrame(()=>{requestAnimationFrame(()=>window.print())})},disabled:!B||!!Z,title:B?"Print blank prescription":"Patient not loaded",children:"Print blank Rx"}),(0,t.jsx)(n.Button,{type:"button",className:"rounded-2xl cursor-pointer",onClick:()=>N(!0),disabled:!B||!!Z,children:"Register checkup"})]}),v?(0,t.jsx)(d.default,{patientId:j,onClose:()=>N(!1)}):null]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 pt-10",children:[(0,t.jsx)("div",{className:"flex items-center justify-end gap-6",children:(0,t.jsxs)(c.Popover,{open:K,onOpenChange:Y,children:[(0,t.jsx)(c.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{type:"button",variant:"outline",className:"h-9 rounded-full border-gray-200 bg-white px-4 text-xs text-gray-800 hover:bg-gray-100 cursor-pointer",children:[(0,t.jsx)(u.Calendar,{className:"mr-2 h-4 w-4"}),H?L(H):"Pick a date"]})}),(0,t.jsxs)(c.PopoverContent,{align:"end",className:"w-auto rounded-2xl p-2",children:[(0,t.jsx)(x.Calendar,{mode:"single",selected:q,onSelect:e=>{let t,s,a;e?(Q((t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),`${t}-${s}-${a}`)),Y(!1)):Q("")}}),H?(0,t.jsx)("div",{className:"flex justify-end px-2 pb-2 pt-1",children:(0,t.jsx)(n.Button,{type:"button",variant:"ghost",className:"h-8 rounded-xl px-3 text-xs",onClick:()=>{Q(""),Y(!1)},children:"Clear"})}):null]})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(l.Card,{className:"overflow-hidden rounded-2xl border-none bg-white px-0 py-0 shadow-sm",children:[(0,t.jsxs)(o.Table,{children:[(0,t.jsx)(o.TableHeader,{children:(0,t.jsxs)(o.TableRow,{className:"bg-gray-50",children:[(0,t.jsx)(o.TableHead,{className:"px-6 py-3 text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Visit Date"}),(0,t.jsx)(o.TableHead,{className:"px-6 py-3 text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Reason"}),(0,t.jsx)(o.TableHead,{className:"px-6 py-3 text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Type"}),(0,t.jsx)(o.TableHead,{className:"px-6 py-3 text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Stage"}),(0,t.jsx)(o.TableHead,{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Action"})]})}),(0,t.jsx)(o.TableBody,{children:$?(0,t.jsx)(o.TableRow,{children:(0,t.jsx)(o.TableCell,{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Loading visits…"})}):X?(0,t.jsx)(o.TableRow,{children:(0,t.jsx)(o.TableCell,{colSpan:5,className:"px-6 py-10 text-center text-sm text-red-600",children:X})}):ef?(0,t.jsxs)(t.Fragment,{children:[eh.map(e=>{let a=e.anchor,r=e.followups;return(0,t.jsxs)(s.Fragment,{children:[(0,t.jsxs)(o.TableRow,{className:"hover:bg-gray-50/60",children:[(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top text-sm font-medium text-gray-900",children:L(a.visitDate)}),(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top",children:eg(a,{kind:"NEW"})}),(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(i.Badge,{variant:"outline",className:`rounded-full px-4 py-1 text-[11px] font-semibold ${M("NEW")}`,children:"NEW"}),I(a)?(0,t.jsx)(i.Badge,{variant:"outline",className:`rounded-full px-4 py-1 text-[11px] font-semibold ${O()}`,children:"ZERO BILLED"}):null]})}),(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top",children:(0,t.jsx)(i.Badge,{variant:"outline",className:`rounded-full px-4 py-1 text-xs font-semibold ${P(a.status)}`,children:R(a.status)})}),(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top text-right",children:(0,t.jsxs)(n.Button,{type:"button",variant:"outline",className:"h-9 rounded-xl px-3 text-xs cursor-pointer",onClick:()=>y.push(`/visits/${a.visitId}`),children:["View ",(0,t.jsx)(m.ArrowRight,{className:"ml-1 h-4 w-4"})]})})]}),r.map(e=>{let s=es.get(a.visitId)??a;return(0,t.jsxs)(o.TableRow,{className:"hover:bg-gray-50/60",children:[(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"ml-1 h-8 w-0.5 rounded-full bg-gray-200"}),(0,t.jsx)("div",{className:"text-sm text-gray-900",children:L(e.visitDate)})]})}),(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"ml-1 h-8 w-0.5 rounded-full bg-gray-200"}),(0,t.jsx)("div",{className:"min-w-0 flex-1",children:eg(e,{kind:"FOLLOWUP",anchor:s})})]})}),(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(i.Badge,{variant:"outline",className:`rounded-full px-4 py-1 text-[11px] font-semibold ${M("FOLLOWUP")}`,children:"FOLLOW UP"}),I(e)?(0,t.jsx)(i.Badge,{variant:"outline",className:`rounded-full px-4 py-1 text-[11px] font-semibold ${O()}`,children:"ZERO BILLED"}):null]})}),(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top",children:(0,t.jsx)(i.Badge,{variant:"outline",className:`rounded-full px-4 py-1 text-xs font-semibold ${P(e.status)}`,children:R(e.status)})}),(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top text-right",children:(0,t.jsxs)(n.Button,{type:"button",variant:"outline",className:"h-9 rounded-xl px-3 text-xs",onClick:()=>y.push(`/visits/${e.visitId}`),children:["View ",(0,t.jsx)(m.ArrowRight,{className:"ml-1 h-4 w-4"})]})})]},e.visitId)})]},a.visitId)}),ea.orphanGroups.length?ea.orphanGroups.map(({followup:e})=>{let s=E(e),a=s?es.get(s):void 0;return(0,t.jsxs)(o.TableRow,{className:"hover:bg-gray-50/60",children:[(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top text-sm text-gray-900",children:L(e.visitDate)}),(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top",children:eg(e,{kind:"FOLLOWUP",anchor:a})}),(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(i.Badge,{variant:"outline",className:`rounded-full px-4 py-1 text-[11px] font-semibold ${M("FOLLOWUP")}`,children:"FOLLOW UP"}),I(e)?(0,t.jsx)(i.Badge,{variant:"outline",className:`rounded-full px-4 py-1 text-[11px] font-semibold ${O()}`,children:"ZERO BILLED"}):null]})}),(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top",children:(0,t.jsx)(i.Badge,{variant:"outline",className:`rounded-full px-4 py-1 text-xs font-semibold ${P(e.status)}`,children:R(e.status)})}),(0,t.jsx)(o.TableCell,{className:"px-6 py-4 align-top text-right",children:(0,t.jsxs)(n.Button,{type:"button",variant:"outline",className:"h-9 rounded-xl px-3 text-xs",onClick:()=>y.push(`/visits/${e.visitId}`),children:["View ",(0,t.jsx)(m.ArrowRight,{className:"ml-1 h-4 w-4"})]})})]},e.visitId)}):null]}):(0,t.jsx)(o.TableRow,{children:(0,t.jsxs)(o.TableCell,{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:["No visits found",H?` for ${H}`:"","."]})})})]}),ea.anchorsOrdered.length>4?(0,t.jsx)("div",{className:"border-t bg-white px-4 py-3",children:(0,t.jsx)(A,{page:ep,totalPages:eu,onPageChange:em})}):null]})})]}),w?(0,t.jsx)(h.PrescriptionPrintSheet,{patientName:B?.name,patientPhone:B?.phone,patientAge:el,patientSex:ei,sdId:B?.sdId,opdNo:void 0,doctorName:ed,doctorRegdLabel:eo,visitDateLabel:ec,lines:[],receptionNotes:""}):null]})}e.s(["default",()=>U],30837)}]);